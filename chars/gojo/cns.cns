[Data]
life = 1000			
power = 3000		
attack = 100		
defence = 100		
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15000000	
sparkno = -1			
guard.sparkno = -1
KO.echo = 0			
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 40  				

[Size]
xscale = 2.0	
yscale = 2.0		
ground.back = 30
ground.front = 32
air.back = 24
air.front = 24
height = 120	
attack.dist = 320
proj.attack.dist = 180
proj.doscale = 1
head.pos = -10, -180
mid.pos = -10, -120	
shadowoffset = 0	
draw.offset = 0,0	

[Velocity]
walk.fwd  = 0.8
walk.back = -0.8		
run.fwd  = 8,5		
run.back = -8,5
jump.back = -5
jump.neu = 0,-8.0	
jump.fwd = 5		
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1	
airjump.neu = 0,-8.0	
airjump.back = -3
airjump.fwd = 3

[Movement]
airjump.num = 1		
airjump.height = 35	
yaccel = .44		
stand.friction = .85	
crouch.friction = .82

;===============================================================================
; Power Charge
;-------------------------------------------------------------------------------
[Statedef 500]
type = S
movetype = I
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 0
sprpriority = 2

[State 500, PowerAdd]
type = PowerAdd
triggerall = time >= 7
trigger1 = 1
value = 15

[State 500, EnvShake]
type = EnvShake
triggerall = time >= 7
trigger1 = time%5 = 0
time = 5
ampl = -4

[State 500, End]
type = ChangeState
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = 0
ctrl = 1

[statedef 170]
type = s
ctrl = 0
anim = 170
velset = 0,0

[State 0, Voz Random]
type = VarSet
trigger1 = !time
v = 1
value = cond(random<500,63,74)

[State 0, Voz]
type = PlaySnd
trigger1 = time = 2
value = S0,var(1)
[State 0, Voz]
type = PlaySnd
trigger1 = time = 2
value = S0,var(1)


[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 10
freq = 60
ampl = -5
phase = 90

[state ,0]
type = assertspecial
trigger1 = time < 300
flag = roundnotover

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1
;---------------------------------------------------------------------------
[Statedef 180]
type = S
movetype = I
physics = N
velset = 0,0
ctrl = 0
anim = 61
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100

[State 0]
type = Explod
trigger1 = time = 1
anim = 40199
ID = 62
pos = 0,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.2
sprpriority = 20
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 3,9

[State 0]
type = Explod
trigger1 = time = 1
anim = 40199
ID = 62
pos = 0,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.2
sprpriority = 19
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub



[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[statedef 182]
type = s
ctrl = 0
anim = 181
velset = 0,0
sprpriority = 2



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 310
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 0]
type = playsnd
trigger1 = !Time
value = s195,0
[state 0]
type = playsnd
trigger1 = !Time
value = s195,0

[state 0]
type = assertspecial
trigger1 = 1
flag = intro

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 310
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 190]
type = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 9999

[State 0]
Type = AssertSpecial
Trigger1 = StateNO = 190
Flag = Intro
Flag2 = NoBarDisplay
IgnoreHitPause = 1

[State 0]
type = ChangeState
trigger1 = !time
value = 191

[Statedef 191]
type = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 190

[State 0]
type = PlaySnd
trigger1 = !time
value = S100,1
volume = 999
channel = 19

[State 0]
type = PosSet
trigger1 = !time
y = -90

[State 0]
type = PosAdd
trigger1 = pos y != 0
y = 3

[State 0]
type = Explod
trigger1 = pos y = 0
anim = 6240
ID = 6240
pos = 0,0
postype = P1
facing = 1
vfacing = 1
removetime = -2
scale = 1,1
sprpriority = 0
ownpal = 0
removeongethit = 0
persistent = 0

[State 0, Light Speed - Helper]
type = Helper
trigger1 = pos y = 0 && time = 120
helpertype = normal
name = "Light Speed - Helper"
ID = 1930
stateno = 1930
pos = 0,-0
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = 1
supermovetime = 999
pausemovetime = 999

[State 0]
type = ChangeAnim
trigger1 = pos y = 0 && time = 150
value = 0
elem = 1

[state 0]
type = playsnd
trigger1 = pos y = 0
value = s110, 6
volume = 999
persistent = 0 
channel = 19

[state 0]
type = playsnd
trigger1 = pos y = 0
value = s110, 6
volume = 999
persistent = 0 
channel = 19

[state 0]
type = playsnd
trigger1 = pos y = 0
value = s110, 6
volume = 999
persistent = 0 
channel = 19

[state 0]
type = Playsnd
trigger1 = pos y = 0
value = s110, 7
volume = 999
persistent = 0 
channel = 19

[state 0]
type = Playsnd
trigger1 = pos y = 0
value = s110, 7
volume = 999
persistent = 0 
channel = 19

[state 0]
type = Playsnd
trigger1 = pos y = 0
value = s110, 7
volume = 999
persistent = 0 
channel = 19

[State 0]
type = PlaySnd
trigger1 = time = 280
value = S190,0
volume = 999
persistent = 0
channel = 19

[State 0]
Type = AssertSpecial
Trigger1 = StateNO = 191
Flag = Intro
Flag2 = NoBarDisplay
IgnoreHitPause = 1

[State 0]
type = ChangeState
trigger1 = time = 430
value = 0

[Statedef 192]
type = S
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 192

[State 0]
type = Explod
trigger1 = !time
anim = 193
ID = 193
pos = 18,-43
postype = P1
removetime = 100
scale = 0.1,0.1
sprpriority = 2
ontop = 0
ownpal = 0
removeongethit = 0

[State 0]
Type = AssertSpecial
Trigger1 = StateNO = 192
Flag = Intro
Flag2 = NoBarDisplay
IgnoreHitPause = 1

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0

[Statedef 1930]
type = A
movetype= I
physics = N
anim = 1930
sprpriority = 5

[State 0]
type = PlaySnd
trigger1 =! Time
value = 5,54
volume = 999
[State 0]
type = PlaySnd
trigger1 =! Time
value = 5,54
volume = 999

[State 0]
type = EnvShake
trigger1 = time%5 = 0
time = 10
ampl = -5
freq = 10

[State 0]
type = Explod
Trigger1 = TimeMod = 6,0
anim = 40060
ID = 7022
pos = -5,2
scale = .4,.5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 7
ontop = 0
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1,0

[State 0]
type = Explod
Trigger1 = TimeMod = 6,0
anim = 40060
ID = 7022
pos = 5,1
scale = .4,.5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 6
ontop = 0
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = 1,0

[State 0]
type = DestroySelf
trigger1 = Parent,Stateno != 182
trigger1 = Parent,Stateno != 191

[State 0]
type = ChangeState
trigger1 = Parent,Stateno = 182
trigger1 = Time >= 50
Value = 1931

[State 0]
type = ChangeState
trigger1 = Parent,Stateno = 191
trigger1 = Parent,Time = 175
Value = 1931

[Statedef 1931]
type = A
movetype= I
physics = N
anim = 1931
sprpriority = 5

[State 0]
type = VarAdd
trigger1 = Time >= 10
v = 2
value = 20

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),0+var(2)

[State 0]
type = Explod
trigger1 = Time <= 15
Trigger1 = TimeMod = 6,0
anim = 40060
ID = 7022
pos = -5,2
scale = .4,.5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 7
ontop = 0
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1,0

[State 0]
type = Explod
trigger1 = Time <= 15
Trigger1 = TimeMod = 6,0
anim = 40060
ID = 7022
pos = 5,1
scale = .4,.5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 6
ontop = 0
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = 1,0

[State 0]
type = Destroyself
trigger1 = !AnimTime

[statedef 200]
type = s
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 200
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = PlaySnd
trigger1 = animelem = 2
value = S3,10
volume = 999
channel = -1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 6201
pos = 26,-31
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .05,.08
sprpriority = 3
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,9
angle = -100

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 6201
pos = 26,-31
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .05,.08
sprpriority = 3
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -100

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 3
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 2

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 210]
type = s
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 210
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 6201
pos = 26,-31
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .05,.08
sprpriority = 3
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,9
angle = -120

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 6201
pos = 26,-31
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .05,.08
sprpriority = 3
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -120

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 5
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 4

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 220

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 220]
type = s
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 220
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 25
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 3
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 5

[State 0]
type = changestate
Triggerall = movecontact && power >= 3000 && helper(30990),fvar(8) > 0
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0
value = 3100

[State 0]
type = changestate
Triggerall = movecontact && power >= 1000
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 2000

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 230

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 310

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 230]
type = s
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 230
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-9
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 3
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 5

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 231

[State 0]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 320

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 231]
type = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 231
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100
[State 0]
type = PlaySnd
trigger1 = time = 1
value = S40,3
volume = 100

[State 0]
type = PosSet
trigger1 = !time 
x = enemy,pos x + 20
y = enemy,pos y + -20

[State 0]
type = Explod
trigger1 = time = 1
anim = 62
ID = 62
pos = 10,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.2
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 3,9

[State 0]
type = Explod
trigger1 = time = 1
anim = 62
ID = 62
pos = 10,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.2
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub

[State 0]
type = ChangeState
trigger1 = time = 2
value = 240
ctrl = 1

[statedef 240]
type = a
movetype = a
physics = S
velset = 0,0
ctrl = 0
anim = 240
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype = Light
damage = 35,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5,-9
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
p2stateno = 82744
getpower = 10

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 2
y = 0

[State 0]
type = ChangeState
trigger1 = !animtime
value = 50
ctrl = 1

[Statedef 295]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = !time
value = S1,13
volume = 50

[State 0]
type = Explod
trigger1 = !time
anim = 8265
ID = 8230
pos = 0,1
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*const(size.xscale),.3*const(size.yscale)
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0
trans = addalpha
alpha = 75,256

[State 0]
type = Explod
trigger1 = !time
anim = 99060
ID = 8280
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .6,.6
sprpriority = 4
ownpal = 1
removeongethit = 0
ignorehitpause = 0
trans = add
remappal = 3,9

[State 0]
type = Explod
trigger1 = !time
anim = 99060
ID = 8280
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .6,.6
sprpriority = 3
ownpal = 1
removeongethit = 0
ignorehitpause = 0
trans = sub
remappal = 3,0

[State 0]
type = Destroyself
trigger1 = time = 10

[Statedef 296]
type = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
ID = 6006
stateno = 6006
pos = 0*const(size.xscale),(0-random%40)*const(size.yscale)
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .125*const(size.xscale)
Size.Yscale = .1*const(size.yscale)

[State 0]
type = PosAdd
trigger1 = 1
x = p2dist x
y = p2dist y

[State 0]
type = Destroyself
trigger1 = enemy,stateno != 82744

[Statedef 300]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 300
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = Explod
trigger1 = animelem = 3
anim = 6201
pos = 21,-35
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .05,.08
sprpriority = 3
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,9
angle = -90

[State 0]
type = Explod
trigger1 = animelem = 3
anim = 6201
pos = 21,-35
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .05,.08
sprpriority = 3
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -90

[State 0]
type = PlaySnd
trigger1 = Animelem = 3
value = S0,6
volume = 50

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage = 10,5
guardflag = MA
pausetime = 8,8
hitsound = S1,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem >= 3
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 2

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 200

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 310

[State 0]
type = ChangeState
trigger1 = !Animtime
value = 0
ctrl = 1

[Statedef 310]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 310
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = PlaySnd
trigger1 = Animelem = 2
value = S0,6
volume = 50

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage = 10,20
guardflag = MA
pausetime = 8,8
hitsound = S1,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 3
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 4

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 220

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 320

[State 0]
type = ChangeState
trigger1 = !Animtime
value = 0
ctrl = 1

[Statedef 320]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 320
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = PlaySnd
trigger1 = Animelem = 2
value = S0,6
volume = 50

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage = 20,20
guardflag = MA
pausetime = 8,8
hitsound = S1,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 4
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 4

[State 0]
type = changestate
Triggerall = movecontact && power >= 3000 && helper(30990),fvar(8) > 0
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0
value = 3100

[State 0]
type = changestate
Triggerall = movecontact && power >= 1000
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 2000

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 230

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 330

[State 0]
type = ChangeState
trigger1 = !Animtime
value = 0
ctrl = 1

[statedef 330]
type = s
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 220
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = PlaySnd
trigger1 = Animelem = 3
value = S0,6
volume = 50

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 4
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 5

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 200

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 340

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 340]
type = s
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 330
sprpriority = 2
facep2 = 1
poweradd = 10

[State 0]
type = PlaySnd
trigger1 = Animelem = 3
value = S0,6
volume = 50

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-9
air.velocity = -1,-8
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = HitOverride
triggerall = enemynear,facing != facing
triggerall = !cond(facing = 1,pos x > enemynear,pos x,pos x < enemynear,pos x)
triggerall = (!enemynear,ishelper)
trigger1 = animelem = 4
attr = SCA,NA       
stateno = 8000
forceair = 0
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 98010
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[State 0]
type = VelSet
trigger1 = !Time
x = 5

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 220

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 231

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 400]
type = s
movetype = i
physics = s
velset = 0, 0
ctrl = 0
anim = stateno
poweradd = -500
sprpriority = 2
facep2 = 1

[state 0]
type = pause
trigger1 = ((time > 0) && (time < 70)) && (time % 6 = 0)
time = 2
movetime = 2

[state 0]
type = helper
trigger1 = !time
stateno = 480
id = 480
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = playsnd
trigger1 = !time
value = s0, 5
channel = 4

[state 0]
type = playsnd
trigger1 = !time
value = s0, 5
channel = 4

[state 0]
type = playsnd
trigger1 = !time
value = s0, 5
channel = 4

[state 0]
type = helper
trigger1 = time = 15
stateno = 420
id = 420
pos = 22, -47
postype = p1
facing = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .1
size.yscale = .1

[state 0]
type = changestate
trigger1 = time = 120
value = cond(pos y = 0, 0, 50)
ctrl = 1

[statedef 420]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = stateno
sprpriority = 3

[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = 999

[state 0]
type = bindtoroot
trigger1 = time < 60
pos = 22, -47

[state 0]
type = angledraw
trigger1 = time < 50
scale = .02 * time, .02 * time

[state 0]
type = angledraw
trigger1 = 1
value = time * 34

[state 0]
type = veladd
trigger1 = time >= 60
x = .05

[state 0]
type = helper
trigger1 = time % 10 = 0
stateno = 421
id = 421
pos = -50 + random%100, 50
postype = p1
facing = 1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .1 * var(2)
size.yscale = .1 * var(2)

[state 0]
type = varrandom
trigger1 = 1
v = 2
range = 4, 8

[state 0]
type = envshake
trigger1 = time % 6 = 0
trigger1 = time < 130
time = 4
freq = 30
ampl = -2

[state 0]
type = playsnd
trigger1 = time = 0
value = s400, 26

[state 0]
type = playsnd
trigger1 = time = 130
value = s400, 27
[state 0]
type = playsnd
trigger1 = time = 140
value = s400, 6

[state 0]
type = envshake
trigger1 = time = 135
time = 20
freq = 40
ampl = -4

[state 0]
type = destroyself
trigger1 = time = 160 || root, movetype = h

[statedef 421]
type = u
movetype = i
physics = n
ctrl = 0
anim = 421 + (random % 5)
velset = 0, 0
sprpriority = 6

[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = 999

[state 0]
type = statetypeset
trigger1 = p2bodydist x <= 5
movetype = a

[state 0]
type = angledraw
trigger1 = 1
value = var(2) * time * 4

[state 0]
type = velset
trigger1 = time = [0, 40]
x = 1-random%2
y = -2

[state 0]
type = bindtoparent
trigger1 = time = [30, 40]
time = 1
pos = 14 * var(2) * cos(pi/42 * time), 14 * var(2) * sin(pi/42 * time)

[state 0]
type = bindtoparent
trigger1 = time = [40, 50]
time = 1
pos = 12 * var(2) * cos(pi/42 * time), 12 * var(2) * sin(pi/42 * time)

[state 0]
type = bindtoparent
trigger1 = time = [50, 60]
time = 1
pos = 8 * var(2) * cos(pi/42 * time), 8 * var(2) * sin(pi/42 * time)

[state 0]
type = bindtoparent
trigger1 = time > 60
time = 1
pos = 6 * var(2) * cos(pi/42 * time), 6 * var(2) * sin(pi/42 * time)

[state 0]
type = varrandom
trigger1 = !time
v = 2
range = 1, 3

[state 0]
type = hitdef
trigger1 = !movecontact
attr = a, np
animtype = light
damage = 4, 2
hitflag = mafd
guardflag = ma
pausetime = 2, 2
hitsound = s400,1
guardsound = s9104, 0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
ground.velocity = -1
air.velocity = -1, -2
forcenofall = 1
fall = 0
fall.recover = 0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 800
id = 900
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .45
size.yscale = .45
ignorehitpause = 1
persistent = 0

[state 0]
type = destroyself
trigger1 = time = 80

[state 0]
type = changestate
trigger1 = numhelper(420) = 0
value = 422
ctrl = 0

[statedef 422]
type = u
movetype = a
physics = n
velset = 0, 0
ctrl = 0
anim = 421 + (random % 5)
sprpriority = 6

[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = 999

[state 0]
type = angledraw
trigger1 = 1
value = var(2) * time * 2

[state 0]
type = varrandom
trigger1 = !time
v = 2
range = -13, 13

[state 0]
type = varrandom
trigger1 = !time
v = 3
range = -3, 12

[state 0]
type = velset
trigger1 = time = 0
x = var(2)
y = -var(3)

[state 0]
type = veladd
trigger1 = 1
y = .4

[state 0]
type = hitdef
trigger1 = !movecontact
attr = s, np
animtype = light
damage = 4, 2
hitflag = mafd
guardflag = ma
pausetime = 2, 2
hitsound = s400,2
guardsound = s9104, 0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3, -2
air.velocity = -3, -2
fall = 1
fall.recover = 0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 800
id = 800
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[state 0]
type = destroyself
trigger1 = time = 90

[state 0]
type = changestate
trigger1 = pos y >= 0
value = 423
ctrl = 0

[statedef 423]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 6
sprpriority = 6

[state 0]
type = posset
trigger1 = !time
y = 0

[state 0]
type = varrandom
trigger1 = 1
v = 3
range = 1, 3

[state 0]
type = envshake
trigger1 = !time
time = 15
freq = 30
ampl = 3

[state 0]
type = explod
trigger1 = 1
anim = 421 + (random % 5)
id = 420
pos = 0, -random%5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
vel = 3-random%6, -random%5
accel = 0, .4
random = 0, 0
removetime = 10
pausemovetime = 0
scale = .1 * var(3), .1 * var(3)
sprpriority = 0
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0

[state 0]
type = destroyself
trigger1 = time = 10

[Statedef 435]
type = A
movetype = I
physics = N
anim = 435
sprpriority = 2

[State 0]
type=PalFX
trigger1=1
time=-1
add=-10,-140,-140
mul=512,512,512
color=256

[State 0]
type=Trans
trigger1=1
trans=add

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type = Destroyself
trigger1 = !AnimTime

[Statedef 460]
type = A
movetype = I
physics =N
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=VarSet
trigger1=!Time
v=2
value=0

[State 0]
type=VarAdd
trigger1=time>2
v=2
value=25

[State 0]
type=Trans
trigger1=1
trans=addalpha
alpha=256-var(2),256
ignorehitpause=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=HitDef
trigger1=!movecontact
attr=A,SP
animtype=Heavy
damage=2,1
Hitflag=MAFDE
guardflag=MA
pausetime=0,10
sparkno=-1
guard.sparkno=s7000
sparkxy=-8,-25
hitsound=-1
guardsound=-1
ground.type=High
ground.slidetime=12
ground.hittime=15
ground.velocity=-6,-8
air.velocity=-6,-8
numhits=0
Fall=1
Fall.recover=0
numhits=2
Getpower=0,0
sprpriority=3
PalFX.time=30
PalFX.add=-200,-200,-200
PalFX.mul=256,256,256
PalFX.sinadd=50,50,50,50
PalFX.invertall=0
PalFX.color=256

[State 0]
type=VarSet
trigger1=!Time
fv=1
value=0

[State 0]
type=VarAdd
trigger1=time>1
fv=1
value=.1

[State 0]
type=AngleDraw
trigger1=1
scale=1,1-fvar(1)
ignorehitpause=1

[State 0]
type=Destroyself
trigger1=time=20

[statedef 480]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 6
sprpriority = 3

[state 0]
type = destroyself
trigger1 = time = 200

[statedef 500]
type = s
movetype = i
physics = s
velset = 0, 0
ctrl = ifelse(ailevel = 0,1,0)
anim = 500
sprpriority = 2
facep2 = 1

[State 0]
type = PosAdd
trigger1 = pos y != 0
y = ifelse(pos y < 0,1,-1)
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = AnimElemTime(2)=0
helpertype = normal
ID = 40570
facing = 1
stateno = 40570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[state 0]
type = helper
trigger1 = (numhelper(6540) <= 5) && (time >= 15) && (time % 5 = 0)
stateno = 6540
id = 6540
pos = 0, 0
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = angledraw
trigger1 = time <= 20
scale = .95, 1.05 - (sin((time/ 50.0) * (pi / 2)) * 0.0125)
ignorehitpause = 1

[state 0]
type = poweradd
trigger1 = time >= 10
value = 12

[state 0]
type = helper
trigger1 = time = 10
stateno = 30500
id = 30501
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .9
size.yscale = .8
persistent = 0

[state 0]
type = ctrlset
triggerall = time >= 20
trigger1 = ((ailevel) && (enemynear, movetype = a) || ((enemynear, vel x != 0) && (enemynear, movetype = a)))
trigger2 = ((ailevel) && ((enemynear, stateno = [80, 80]) || (enemynear, stateno = [2000, 4999])))
trigger3 = ((power >= powermax) && (numhelper(30990)) && (helper(30990), fvar(8) = 1))
trigger5 = roundstate != 2
value = 1
ignorehitpause = 1

[state 0]
type = changestate
trigger1 = ailevel = 0 && command != "hold_s" || ailevel > 0 && power >= powermax && helper(30990),fvar(8) > 0
value = 501

[statedef 501]
type = s
movetype = i
physics = n
velset = 0, 0
ctrl = ifelse(ailevel = 0,1,0)
sprpriority = 2
facep2 = 1
anim = 501

[state 0]
type = changestate
trigger1 = !animtime
value = ifelse(pos y < 0,50,0)
ctrl = 1

[statedef 600]
type = a
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 600
sprpriority = 2
facep2 = 1

[State 0]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype = Light
damage = 10,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = helper
trigger1 = movehit
helpertype = normal 
stateno = 800
ID = 800
pos = -3,-21
postype = p2    
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0]
type = VelSet
trigger1 = !Time
x = 5
y = 0

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 610

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 240

[State 0]
type = changestate
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 620

[State 0]
type = ChangeState
trigger1 = !animtime
value = 50

[statedef 610]
type = a
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 610
sprpriority = 2
facep2 = 1

[State 0]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype = Light
damage = 20,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
getpower = 10

[State 0]
type = helper
trigger1 = movehit
helpertype = normal 
stateno = 800
ID = 800
pos = -3,-21
postype = p2    
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0]
type = VelSet
trigger1 = !Time
x = 5
y = 0

[State 0]
type = changestate
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 630

[State 0]
type = changestate
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 240

[State 0]
type = ChangeState
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 620

[State 0]
type = ChangeState
trigger1 = !animtime
value = 50

[statedef 620]
type = a
movetype = a
physics = s
velset = 0,0
ctrl = 0
anim = 620
sprpriority = 2
facep2 = 1

[State 0]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype = Light
damage = 30,5
guardflag = MA
pausetime = 9,7
hitsound = S2,5
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3
p2stateno = 82744
getpower = 10

[State 0]
type = helper
trigger1 = movehit
helpertype = normal 
stateno = 800
ID = 800
pos = -3,-21
postype = p2    
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0]
type = VelSet
trigger1 = !Time
x = 5
y = 0

[State 0]
type = ChangeState
trigger1 = !animtime
value = 50

[Statedef 630]
type = A
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 630
poweradd = 10
sprpriority = 2
Facep2 = 1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0]
type = PlaySnd
trigger1=!Time
value=S1,38
[State 0]
type = PlaySnd
trigger1=!Time
value=S1,38

[State 0]
type = VelSet
trigger1=(AnimElem=3)||(AnimElem=5)||(AnimElem=7) || animelem = 10
x=Cond(Pos y!=0,2.5,2)

[State 0]
type = PlaySnd
trigger1=(AnimElem=3)||(AnimElem=5)||(AnimElem=7) || animelem = 10
value=S5,34

[State 0]
type = HitDef
trigger1=(AnimElem=3)||(AnimElem=5)||(AnimElem=7) || animelem = 10
attr=S,HA
Damage = 6,3
animtype = Light
hitflag = MAF
priority = 3, Hit
pausetime = 0,3
hitsound=S1,6
guardsound=S4,2
ground.type = High
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1
air.velocity = -0,-1
air.hittime = 12
Envshake.time = 20
Envshake.freq = 20
kill = 0

[State 0]
type = helper
trigger1 = movehit
helpertype = normal 
stateno = 800
ID = 800
pos = -3,-21
postype = p2    
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 1
ignorehitpause = 1

[State 0]
type = ChangeState
triggerall = ailevel = 0
trigger1 = Time = 100
value = ifelse(movecontact && command = "hold_a",2001,50)

[State 0]
type = ChangeState
triggerall = ailevel > 0
trigger1 = Time = 100
value = ifelse(movecontact && power >= 1000,2001,50)

[Statedef 800]
type = S
anim = 9999

[State 0]
type = VarAdd
trigger1 = !time
v = 800 
value = random%360

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 5
ownpal = 1
remappal = 3,9
angle = var(800)

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 0
ownpal = 1
remappal = 3,0
angle = var(800)
trans = addalpha
alpha = 100,256

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.03,.1+.03
sprpriority = -1
ownpal = 1
trans = sub
angle = var(800)

[State 0]
type = DestroySelf
trigger1 = time = 40

[Statedef 801]
type = S
anim = 9999

[State 0]
type = VarAdd
trigger1 = !time
v = 800 
value = random%360

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 5
ownpal = 1
remappal = 3,3
angle = var(800)

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 0
ownpal = 1
remappal = 3,0
angle = var(800)
trans = addalpha
alpha = 100,256

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.03,.1+.03
sprpriority = -1
ownpal = 1
trans = sub
angle = var(800)

[State 0]
type = DestroySelf
trigger1 = time = 40

[Statedef 802]
type = S
anim = 9999

[State 0]
type = VarAdd
trigger1 = !time
v = 800 
value = random%360

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 5
ownpal = 1
remappal = 3,3
angle = var(800)

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 0
ownpal = 1
remappal = 3,0
angle = var(800)
trans = addalpha
alpha = 100,256

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.03,.1+.03
sprpriority = -1
ownpal = 1
trans = sub
angle = var(800)

[State 0]
type = DestroySelf
trigger1 = time = 40

[Statedef 803]
type = S
anim = 9999

[State 0]
type = VarAdd
trigger1 = !time
v = 800 
value = random%360

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 5
ownpal = 1
remappal = 3,10
angle = var(800)

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.05,.1+.05
sprpriority = 0
ownpal = 1
remappal = 3,0
angle = var(800)
trans = addalpha
alpha = 100,256

[State 0]
type = Explod
trigger1 = !time
anim = 6200
pos = 0,0
postype = p1
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.03,.1+.03
sprpriority = -1
ownpal = 1
trans = sub
angle = var(800)

[State 0]
type = DestroySelf
trigger1 = time = 40

[Statedef 900]
type = A
anim = 9999

[State 0]
type = Explod
triggerall = ishelper(001)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 8
ownpal = 1
angle = 138
remappal = 3,8

[State 0]
type = Explod
triggerall = ishelper(001)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 5
ownpal = 1
angle = 138
Trans =SUb
remappal = 3,0

[State 0]
type = Explod
triggerall = ishelper(002)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 8
ownpal = 1
angle = 138
remappal = 3,9

[State 0]
type = Explod
triggerall = ishelper(002)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 5
ownpal = 1
angle = 138
Trans =SUb
remappal = 3,0

[State 0]
type = DestroySelf
trigger1 = 1

[Statedef 901]
type = A
anim = 9999

[State 0]
type = Explod
triggerall = ishelper(001)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 8
ownpal = 1
angle = 138
remappal = 3,3

[State 0]
type = Explod
triggerall = ishelper(001)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 5
ownpal = 1
angle = 138
Trans =SUb
remappal = 3,0

[State 0]
type = Explod
triggerall = ishelper(002)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 8
ownpal = 1
angle = 138
remappal = 3,12

[State 0]
type = Explod
triggerall = ishelper(002)
trigger1 = !time
anim = 6900
pos = 0,0
postype = p1  
removetime = -2
bindtime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = 5
ownpal = 1
angle = 138
Trans =SUb
remappal = 3,0

[State 0]
type = DestroySelf
trigger1 = 1

[Statedef 910]
type  = A
movetype = I
physics = N

[State 0]
type=ChangeAnim
triggerall = ishelper(001)
trigger1 = !Time
value = 910
elem = 1

[State 0]
type=ChangeAnim
triggerall = ishelper(002)
trigger1 = !Time
value = 8510
elem = 1

[State 0]
type = VarSet
trigger1 = !Time
v = 0
value = Cond(Random<500,0,1)

[State 0]
type=BindToroot
triggerall = ishelper(001)
trigger1 = !Time
Time = 5
pos = 5-Random%10,-55+Random%47

[State 0]
type = BindToroot
triggerall = ishelper(002)
trigger1 = !Time
Time = 5
pos = 5-Random%10,-55+Random%37

[State 0]
type=VarSet
TriggerALL = IsHelper(001)
trigger1 = !Time
Fv = 1
value = Random%360

[State 0]
type=AngleDraw
TriggerALL = IsHelper(001)
trigger1 = 1
scale = 1+(Time*.01),1+(Time*.01)
value = VAR(1)

[State 0]
type=AngleDraw
TriggerALL = IsHelper(010)
trigger1 = 1
scale = 1+(Time*.025),1+(Time*.025)

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = Cond(VAR(0)>0,150,256),256
ignorehitpause = 1

[State 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = DestroySelf
trigger1 = !AnimTime

[StateDef 911]
type = S
movetype = I
physics = N
velset = 0,0
anim = 9999

[State 0]
type = Turn
trigger1 = p2dist x > 0

[State 0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0]
type = Turn
trigger1 = p2dist x < 0

[State 0]
type = Helper
triggerall = root,stateno != 500
trigger1 = Time% 5=0
helpertype = normal
ID = 001
stateno = 910
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0]
Type = Explod
triggerall = root,stateno != 500
trigger1 = Time%3 = 0
Anim = 912
ID = 912
Pos = -15+Random%30,-20+(Random%20)*Cond(Random<500,-1,1)
PosType = P1
Vel = Random%100*Cond(Random<=500,0.01*(Random%2),-0.01*(Random%2)),-0.5
Accel = 0.02,-0.05 - 0.01*(Random%4)
Scale = 0.0175,0.0175
OnTop = Cond(Random<=500,0,1)
OwnPal = 0

[State 0]
type = RemoveExplod
trigger1 = root,movetype = H
id = 912

[State 0]
type = RemoveExplod
trigger1 = root,stateno=[3001,3003]
trigger2 =root,movetype=H
trigger3 =root,stateno=[1150,1199]
id = 701

[State 0]
type = destroySelf
trigger1 = !root,alive || helper(30990),fvar(8) = 0

[Statedef 1000]
type = S
movetype = i
physics = S
velset = 0,0
ctrl = 0
anim = 1000
poweradd = -1000
sprpriority = 2

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S1000,0

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S1000,0

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S1000,0

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = Helper
trigger1 = !time
helpertype = Player
ID = 1050
stateno = 1050
pos = 0,0
postype = P1
facing = 1
scale = 1.0,1.0

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 1060
stateno = 1060
pos = 0,0
postype = P1
facing = 1

[State 0]
type = ChangeState
trigger1 = time = 60
value = 0
ctrl = 1

[Statedef 1050]
type = S
movetype = i
physics = S
velset = 0,0
anim = 1050

[State 0]
type = AssertSpecial
trigger1 = 1
flag = Invisible
flag2 = NoShadow

[State 0]
type = BindToRoot
trigger1 = 1
time = 9999999
facing = 1
pos = 0,0
ignorehitpause = 1
persistent = 1

[State 0]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1051
time = 9999999
forceair = 0
ignorehitpause = 1
persistent = 1

[State 0]
type = DestroySelf
trigger1 = time = 600
ignorehitpause = 1
persistent = 1

[Statedef 1051]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 0]
type = SelfState
trigger1 = hitover
value = 1050
ctrl = 1

[Statedef 1060]
type = S
movetype= I
physics = N
anim = 9999

[State 0]
type = Explod
trigger1 = teamside = 1
anim = 1060
ID = 1060
pos = 18,45+25*((partner,id)%2)
postype = left
facing = 1
vfacing = 1
bindtime = 15
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 999999
scale = .04,.04
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
angle = 0
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = teamside = 2
anim = 1060
ID = 1060
pos = -18,45+25*((partner,id)%2)
postype = right
facing = 1
vfacing = 1
bindtime = 15
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 999999
scale = .04,.04
sprpriority = 10
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
angle = 0
ignorehitpause = 1

[State 0]
type = DestroySelf
trigger1 = time = 600
ignorehitpause = 1
persistent = 1

[Statedef 1100]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1100
velset = 0,0
sprpriority = 2
poweradd = -1000

[State 0]
type = Varset
trigger1 = !time
v = 12
value = -100

[State 0]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 0]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 0]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 901
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = PlaySnd
trigger1 = time = 5
value = S300,25
volumescale = 999

[State 0]
type = PlaySnd
trigger1 = time = 5
value = S300,40
volumescale = 9999

[State 0]
type = BGPalFX
trigger1 = time <= 30-enemy,var(51)
time = 1
add = -40,-40,-40

[State 0]
type = PlaySnd
trigger1 = !time
value = S0,7
volumescale = 999

[State 0]
type = VarSet
trigger1 = !time
v = 50
value = 1

[State 0]
type = VarSet
trigger1 = enemy,var(50)=0
v = 51
value = time

[State 0]
type = Explod
trigger1 = time < 20
anim = 1110
ID = 1110
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 3
pausemovetime = 999999
scale = 2-.1*time,2-.1*time
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*17
supermovetime=999

[State 0]
type = Explod
trigger1 = time = 10
anim = 1120
ID = 1120
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 155
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
scale = .1,.1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add
alpha = 256,256
supermovetime=999

[State 0]
type = Explod
trigger1 = time >= 25
anim = 1130
ID = 1130
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 155
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 99999
scale = .002*time-.03,.002*time-.03
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 90
supermovetime=999

[State 0]
type = Explod
trigger1 = time >= 25
trigger1 = timemod = 4,0
anim = 1140
ID = 1140
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .003*time-.045,.0015*time-.0225
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%360
supermovetime=999

[State 0]
type = Explod
trigger1 = time >= 25
trigger1 = timemod = 2,0
anim = 1150
ID = 1150
pos = 25+3*(random%5),-40
postype = p1
facing = 1
vfacing = ifelse(random<400,0,1)
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .005+.002*time,.04+.006*time
sprpriority = -5
ontop = ifelse(random<400,0,1)
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 60+random%60
supermovetime=999

[State 0]
type = Explod
trigger1 = time>15
trigger1 = timemod = 3,0
anim = 1160
ID = 1160
pos = 30,-40
postype = p1
bindtime = 1555
removetime = -2
pausemovetime = 999999
scale = .15,.15
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0
angle = 60+random%360
supermovetime=999

[State 0]
type = ChangeState
trigger1 = time >= 80
value = 1101
ctrl = 0

[Statedef 1101]
type= S
movetype = I
physics = S
ctrl = 0
anim = 1101
velset = 0,0
sprpriority = 0

[State 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 0]
type = Explod
trigger1 = time = 7
anim = 1180
ID = 1180
pos = 50,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .8,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 0

[State 0]
type = RemoveExplod
trigger1 = 1
id = 7017

[State 0]
type = VelSet
trigger1 = enemy,var(50)=1
trigger1 = time = 10
x = -10

[State 0]
type = Explod
trigger1 = time <=15 
anim = 1170
ID = 1170
pos = 30-time*3	,-35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 999999
scale = .02*time,.1*time
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 0

[State 0]
type = Helper
trigger1 = time = 7
helpertype = normal
ID = 1102
stateno = 1102
pos = 30,-40
postype = p1 
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .1
size.yscale = .2

[State 0]
type = ChangeState
trigger1 = time > 10
value = 0
ctrl = 1

[Statedef 1102]
type = S
movetype= I
physics = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 5

[State 0]
type = PlaySnd
trigger1 = timemod = 10,0
value = S300,9
volumescale = 10

[State 0]
type = BindToParent
trigger1 = 1
time = 1
pos = 20,-35

[State 0]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,fvar(1)
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 1103
stateno = 1103
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .1
size.yscale = .2

[State 0]
type = DestroySelf
trigger1 = numhelper(1103) = 0
trigger1 = time > 3

[State 0]
type = ChangeState
trigger1 = helper(1103),stateno = 1105
value = 1106
ctrl = 0

[Statedef 1106]
type = S
movetype= A
physics = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 5

[State 0]
type = BindToParent
trigger1 = 1
time = 1
pos = 20,-35

[State 0]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,fvar(1)
ignorehitpause = 1

[State 0]
type = DestroySelf
trigger1 = !animtime

[Statedef 1103]
type = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 1192
velset = 0,0
sprpriority = 5

[State 0]
type = ParentVarSet
trigger1 = 1
fv = 1
value = -rootdist x/113
ignorehitpause = 1

[State 0]
type = VarSet
triggerall = power > 0
trigger1 = (timemod = 30,0)
trigger1 = root,ailevel > 0
v = 25
value = ifelse(random<(root,ailevel)*60,1,0)

[State 0]
type = VarSet
trigger1 = var(25)=1
trigger1 = timemod = 30,1
v = 25
value = 0

[State 0]
type = VarAdd
triggerall = power > 0
triggerall = fvar(15) < 8
trigger1 = root,command = "c"
trigger2 = var(25)=1
fv = 15
value = 2

[State 0, VarAdd]
type = VarAdd
triggerall = enemy,power > 0
triggerall = fvar(15)>-8
trigger1 = enemy,command = "c"
trigger2 = enemy,var(25)=1
fv = 15
value = -2

[State 0]
type = VarAdd
trigger1 = timemod = 15,0
trigger1 = fvar(15)>2
fv = 15
value = -1

[State 0]
type = VelMul
trigger1 = vel x > 35
x = .6

[State 0]
type = VelSet
trigger1 = prevstateno = 1204
trigger1 = time <=1
x = -3+(fvar(15))*.2

[State 0]
type = VelAdd
trigger1 = time >0
x = 2+(fvar(15))*.2

[State 0]
type = VelSet
trigger1 = frontedgedist < 0
x = 0

[State 0]
type = PalFX
trigger1 = 1
time = 1
add = 0,-180,-180
ignorehitpause = 1

[State 0]
type = null
trigger1 = !time
helpertype = normal
name = ""
ID = 1103
stateno = 1103
pos = 0,30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1

[State 0]
type = Explod
trigger1 = enemy,var(50)=1
trigger1 = numexplod(1193) = 0
anim = 1193
ID = 1193
pos = 80,0
postype = p1
facing = 1
vfacing = 1
bindtime = 5555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .4,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0
angle = 90
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = 1
anim = 1160
ID = 1160
pos = 10-random%20,10-random%20
postype = p1
facing = 1
vfacing = 1
bindtime = 1555
vel = -random%2,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .001*var(20)+.4,.001*var(20)+.2
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 60+random%360

[State 0]
type = Explod
trigger1 = timemod = 1,0
anim = 1130
ID = 1130
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 155
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 99999
scale = .001*var(20)+.05,.001*var(20)+.035
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 90

[State 0]
type = HitDef
trigger1 = timemod = 2,0
attr = S, NA
animtype  = light
damage = 2,2
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -vel x*.9,0
air.velocity = -vel x*.9,0
Fall = 0
kill = 1
envshake.time = 0
envshake.freq = 80
envshake.ampl = 6
ground.cornerpush.veloff = 0
getpower = 0,0

[State 0]
type = EnvShake
trigger1 = timemod = 15,0
trigger1 = prevstateno = 1104
time = 15
freq = 70
ampl = -1

[State 0]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1105
time = 1
forceair = 0
ignorehitpause = 1

[State 0]
type = VarAdd
trigger1 = 1
v = 20
value = 1

[State 0]
type = null
trigger1 = rootdist x>-10

[State 0]
type = ChangeState
trigger1 = time = 20
value = 1105

[Statedef 1105]
type = S
movetype = A
physics = N
anim = 1192
velset = 0,0
sprpriority = 15

[State 0]
type = PlaySnd
trigger1 = !time
value = S300,17
volumescale = 150

[State 0]
type = EnvShake
trigger1 = !time
time = 30
freq = 80
ampl = 8

[State 0]
type = EnvShake
trigger1 = time = 30
time = 50
freq = 70
ampl = 4

[State 0]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
animtype  = light
damage = 4,7
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-4
air.velocity = 0,-4
Fall = 1
kill = 1
envshake.time = 0
envshake.freq = 80
envshake.ampl = 6
ground.cornerpush.veloff = 0

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 1191
ID = 1191
pos = 25-random%50,15-random%45
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .8,.8
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%360

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 1107
stateno = 1107
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0]
type = DestroySelf
trigger1 = time = 80

[Statedef 1107]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1190
velset = 0,0
sprpriority = 15

[State 0]
type = AngleDraw
trigger1 = time < 50
scale = .02*time,.02*time
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = !time
anim = 1190
ID = 1190
pos = 0,30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999999
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 180

[State 0]
type = DestroySelf
trigger1 = !animtime

[Statedef 1195]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1195
velset = 0,0
sprpriority = 2
poweradd = -1000

[State 0]
type = Varset
trigger1 = !time
v = 12
value = -100

[State 0]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 0]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 0]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 901
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = PlaySnd
trigger1 = time = 5
value = S300,25
volumescale = 999

[State 0]
type = PlaySnd
trigger1 = time = 5
value = S300,40
volumescale = 9999

[State 0]
type = BGPalFX
trigger1 = time <= 30-enemy,var(51)
time = 1
add = -40,-40,-40

[State 0]
type = PlaySnd
trigger1 = !time
value = S0,7
volumescale = 999

[State 0]
type = VarSet
trigger1 = !time
v = 50
value = 1

[State 0]
type = VarSet
trigger1 = enemy,var(50)=0
v = 51
value = time

[State 0]
type = Explod
trigger1 = time < 20
anim = 1110
ID = 1110
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 3
pausemovetime = 999999
scale = 2-.1*time,2-.1*time
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*17
supermovetime=999

[State 0]
type = Explod
trigger1 = time = 10
anim = 1120
ID = 1120
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 155
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
scale = .1,.1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add
alpha = 256,256
supermovetime=999

[State 0]
type = Explod
trigger1 = time >= 25
anim = 1130
ID = 1130
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 155
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 99999
scale = .002*time-.03,.002*time-.03
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 90
supermovetime=999

[State 0]
type = Explod
trigger1 = time >= 25
trigger1 = timemod = 4,0
anim = 1140
ID = 1140
pos = 30,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .003*time-.045,.0015*time-.0225
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%360
supermovetime=999

[State 0]
type = Explod
trigger1 = time >= 25
trigger1 = timemod = 2,0
anim = 1150
ID = 1150
pos = 25+3*(random%5),-40
postype = p1
facing = 1
vfacing = ifelse(random<400,0,1)
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .005+.002*time,.04+.006*time
sprpriority = -5
ontop = ifelse(random<400,0,1)
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 60+random%60
supermovetime=999

[State 0]
type = Explod
trigger1 = time>15
trigger1 = timemod = 3,0
anim = 1160
ID = 1160
pos = 30,-40
postype = p1
bindtime = 1555
removetime = -2
pausemovetime = 999999
scale = .15,.15
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0
angle = 60+random%360
supermovetime=999

[State 0]
type = ChangeState
trigger1 = time >= 80
value = 1196
ctrl = 0

[Statedef 1196]
type = A
movetype = I
physics = A
ctrl = 0
anim = 1195
velset = 0,0
sprpriority = 0

[State 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 0]
type = Explod
trigger1 = time = 7
anim = 1180
ID = 1180
pos = 50,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .8,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 0

[State 0]
type = RemoveExplod
trigger1 = 1
id = 7017

[State 0]
type = VelSet
trigger1 = enemy,var(50)=1
trigger1 = time = 10
x = -10

[State 0]
type = Explod
trigger1 = time <=15 
anim = 1170
ID = 1170
pos = 30-time*3	,-35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 999999
scale = .02*time,.1*time
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 0

[State 0]
type = Helper
trigger1 = time = 7
helpertype = normal
ID = 1102
stateno = 1102
pos = 30,-40
postype = p1 
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .1
size.yscale = .2

[State 0]
type = ChangeState
trigger1 = time > 10
value = 50
ctrl = 1

[Statedef 1200]
type = C
movetype = A
physics = C
anim = 1200
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = -500

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S1200,0
channel = 12

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = PalFX
trigger1 = time < 6
time = 6
add = 0,0,120

[State 0]
Type = Helper
Trigger1 = Time%2 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0]
type = EnvShake
trigger1 = !time
time = 10
freq = 30
ampl = -6

[state 0]
type = velset
trigger1 = animelem = 3
x = 11

[State 0]
type = HitDef
trigger1 = !movecontact
attr =  C, NA
animtype = hard
damage = 80,5
pausetime = 9,7
hitsound = S3,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = 0,-8
air.velocity = -1,-4
EnvsHake.time = 7
EnvsHake.freq = 30
Envshake.ampl = -3

[state 0]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 1300]
type = c
movetype = i
physics = c
velset = 0, 0
ctrl = 0
anim = stateno
poweradd = -1000
sprpriority = 2
facep2 = 1

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = playsnd
trigger1 = !time
value = s0,5
channel = 13

[state 0]
type = playsnd
trigger1 = !time
value = s0,5
channel = 13

[state 0]
type = playsnd
trigger1 = !time
value = s0,5
channel = 13

[state 0]
type = helper
trigger1 = time = 5
stateno = 1360
id = 1360
pos = 5, -5
postype = p1  
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = .1

[state 0]
type = changestate
trigger1 = time >= 30
value = 12
ctrl = 1

[statedef 1360]
type = u
movetype = a
physics = n
velset = 0, 0
ctrl = 0
anim = stateno
sprpriority = 1

[State 0]
type = AssertSpecial
trigger1 = 1
ignorehitpause = 1
flag = NoShadow

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, 8

[state 0]
type = playsnd
trigger1 = time % 15 = 0
value = s300, 9

[state 0]
type = explod
trigger1 = time % 3 = 0
trigger1 = time < 90
anim = 1361
id = 7020
pos = 0, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 5555
vel = 0, 0
accel = 0, 0
random = 0, 0
removetime = 50
pausemovetime = 999999
scale = .7, .3
sprpriority = 1
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = time * 35
trans = add
alpha = 50, 256

[state 0]
type = playsnd
trigger1 = time % 40 = 0
trigger1 = time<=80
value = s300, 0

[state 0]
type = playsnd
trigger1 = time % 40 = 0
trigger1 = time>=40
trigger1 = time<=80
value = s300, 1
volumescale = 10

[state 0]
type = varset
trigger1 = pos x-enemy, pos x<0
trigger1 = !time
v = 1
value = 1

[state 0]
type = varset
trigger1 = pos x-enemy, pos x>=0
trigger1 = !time
v = 1
value = -1

[state 0]
type = angledraw
trigger1 = time < 10
scale = .05 * time, .05 * time
ignorehitpause = 1

[state 0]
type = posset
trigger1 = time>10
x = (root, pos x) + 60 * sin((time-10) * pi/10) * var(1)
y = (root, pos y-12) + 12 * sin((time-5) * pi/10)

[state 0]
type = angledraw
trigger1 = time > 10
scale = 1 + .6 * sin((time-5) * pi/10), 1 + .6 * sin((time-5) * pi/10)
ignorehitpause = 1

[state 0]
type = sprpriority
trigger1 = 1
value = 5 * sin((time-10) * pi/10)
ignorehitpause = 1 

[state 0]
type = envshake
trigger1 = time >= 10
trigger1 = time % 10 = 0
time = 20
freq = 10
ampl = 3

[state 0]
type = explod
trigger1 = 1
anim = 1362
id = 7018
pos = 45-random % 90, 15-random % 45
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = .5 * (2-random % 5), .5 * (2-random % 5)
accel = 0, 0
random = 0, 0
removetime = -2
pausemovetime = 999999
scale = .3, .3
sprpriority = 0
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = random % 360

[state 0]
type = explod
trigger1 = time % 3 = 0
trigger1 = time>10
anim = 1370 + random % 3
id = 7012
pos = -5, 20
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = .1 * (3-random % 6), .2 * (-1-random % 5)
accel = 0, 0
random = 0, 0
removetime = -2
pausemovetime = 999999
scale = .1 + .05 * sin((time-5) * pi/10), .1 + .05 * sin((time-5) * pi/10)
sprpriority = 5 * sin((time-5) * pi/10)-1
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = 0

[state 0]
type = hitdef
trigger1 = time % 4 = 0
attr =  A,NP
animtype = light
damage = 5
hitflag = mafd
guardflag = la
pausetime = 1, 7
hitsound = s1, 1 = (random % 2)
guardsound = s9104, 0
ground.type = high
ground.slidetime = 30
ground.hittime = 30
ground.velocity = cond(p2bodydist x < -30, -6, 8), -1
air.velocity = cond(p2bodydist x < -30, -6, 8), -1
p2facing = 1
fall = 0
envshake.time = 2
envshake.freq = 15
envshake.ampl = 4
ground.cornerpush.veloff = 0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 800
id = 001
size.height = 0
size.head.pos = (random % 360), 1
pos = -5 = (random % 5), -24 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .6
size.yscale = .6
ignorehitpause = 1
persistent = 4

[state 0]
type = destroyself
trigger1 = time = 240

[statedef 1400]
type = c
movetype = i
physics = c
velset = 0, 0
ctrl = 0
anim = stateno
poweradd = -1000
sprpriority = 2
facep2 = 1

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[state 0]
type = helper
trigger1 = time = 5
stateno = 1450
id = 1450
pos = 5, -5
postype = p1  
facing = 1
ownpal = 1
size.xscale = .4
size.yscale = .4

[state 0]
type = changestate
trigger1 = time >= 30
value = 12
ctrl = 1

[statedef 1450]
type = S
movetype = i
physics = s
velset = 0,0
ctrl = 0
anim = stateno
sprpriority = -9

[State 0]
type = RemapPal
trigger1 = 1
dest = 3,8

[State 0]
type = BindToRoot
trigger1 = 1
time = 999999
pos = 0,-3
ignorehitpause = 1
persistent = 1

[State 0]
type = DestroySelf
trigger1 = time = 400
ignorehitpause = 1

[Statedef 1500]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -1000
sprpriority = 2

[state 0, Academy Special VFX]
type = helper
trigger1 = !time
stateno = 30850
id = 002 ; -> 1 special,2 skill,3 ultimate
postype = p1
ownpal = 1
facing = 1
size.mid.pos = -1, -22
size.head.pos = 0, (var(53))
size.xscale = .1
size.yscale = .1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0]
type=PlaySnd
trigger1 = !Time
value = S950,1
volume = 50

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=Varset
trigger1=!Time
v=12
value=-100

[State 0]
type=Varset
trigger1=time=100
v=12
value=0

[State 0]
type=VarAdd
trigger1=time>=90&&Var(12)<0
v=12
value=6

[State 0]
type=BGPalFX
trigger1=Time>0
time=1
add=Var(12),Var(12),Var(12)

[State 0]
type=EnvShake
trigger1=time=2
time=20
ampl=-4

[State 0]
type=ChangeAnim
triggerall=time=[2,37]
trigger1=timemod=10,0
value=anim
elem=4

[State 0]
type=Helper
trigger1 = time = 45
helpertype = normal
ID = 1530
facing = 1
stateno = 1530
postype = p1
ownpal = 1
size.xscale = .075
size.yscale = .075
Supermovetime = 999

[State 0]
type=Helper
trigger1 = time = 45
helpertype = normal
ID = 1540
facing=1
stateno = 1540
postype=p1
ownpal=1
size.xscale=.0747
size.yscale=.0747
Supermovetime=999

[State 0]
type = Helper
triggerall = timemod=25,0
trigger1 = time = [45,115]
helpertype = normal
ID = 435
facing = 1
stateno = 435
pos = 42,-24
postype = p1
ownpal = 1
size.xscale = .3
size.yscale = .3
Supermovetime = 999

[State 0]
type=ChangeState
triggerall=time>=100
trigger1=ailevel=0&&Command!="hold_c"
trigger2=ailevel>0&&p2bodydist x<100
trigger3=ailevel>0&&time=45+random%45
trigger4=time>=120
value = 1505

[Statedef 1505]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1505
poweradd = -1000
Velset = 0,0
sprpriority = 2

[State 0]
type = Null
trigger1 = 1
trigger1 = var(0):=cond(random<500,-1,1)||fvar(0):=0-random%47 || var(1):= -1-random%40

[state 0]
Type = Explod
Trigger1 = (time> 13)&&(TimeMod=2,0)
Anim = 40199
ID = 7125
Pos = -10+fvar(0),var(1)
Vel = -1,0
Facing = 1
VFacing = 1
BindTime = 1
RemoveTime = -2
Scale = .2,.1
Sprpriority = 3
Ownpal = 1
RemoveonGetHit = 1
IgnoreHitPause = 1
remappal = 3,3
PosType = p1
trans = add
Angle = 90

[state 0]
Type = Explod
Trigger1 = (time> 13)&&(TimeMod=2,0)
Anim = 40199
ID = 199
Pos = -10+fvar(0),var(1)
Vel = -1,0
Facing = 1
VFacing = 1
BindTime = 1
RemoveTime = -2
Scale = .2,.1
Sprpriority = 3
Ownpal = 1
RemoveonGetHit = 1
IgnoreHitPause = 1
PosType = p1
trans = sub
Angle = 90

[state 0]
Type = Explod
Trigger1 = (time > 13)&&(TimeMod=2,0)
Anim = 40199
ID = 198
Pos = -10,var(1)
Vel = -1,0
Facing = 1
VFacing = 1
BindTime = 1
RemoveTime = -2
Scale = .2,.1
Sprpriority = 3
Ownpal = 1
RemoveonGetHit = 1
IgnoreHitPause = 1
Trans =Sub
PosType = p1
Angle = 90

[state 0]
Type = Explod
Trigger1 = (time > 13)&&(TimeMod=2,0)
Anim = 40199
ID = 198
Pos = -10,var(1)
Vel = -1,0
Facing = 1
VFacing = 1
BindTime = 1
RemoveTime = -2
Scale = .2,.1
Sprpriority = 3
Ownpal = 1
RemoveonGetHit = 1
IgnoreHitPause = 1
Trans =Sub
PosType = p1
Angle = 90

[State 0]
type=ChangeAnim
trigger1=Timemod=20,0&&numhelper(1550)>0
trigger2=numhelper(1560)>0
value=anim
elem=1

[State 0]
type=Helper
trigger1=!Time
helpertype=normal
ID=1550
stateno=1550
pos=0,0
postype=p1
ownpal=1

[State 0]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

[Statedef 1530]
type = A
movetype = I
physics = N
anim = 1530
sprpriority = 4

[State 0]
type=PalFX
trigger1=1
time=-1
add=0,-140,-140
mul=512,512,512
color=256

[State 0]
type=AngleDraw
trigger1=time<50
scale=.1+time*.018,.1+time*.018
value=1+(time*05)

[State 0]
type=AngleDraw
trigger1=time>50
scale=1+fvar(1),1+fvar(1)

[State 0]
type=BindToRoot
trigger1=Root,StateNo=1500
pos=40,-35

[State 0]
type=Trans
trigger1=1
trans=add

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=!Time
value=S5,50
volumescale=200
channel=7

[State 0]
type=StopSnd
trigger1=root,stateno!=1500
Trigger2=Root,Stateno=1505
channel=7

[State 0]
type=Destroyself
trigger1=root,stateno!=1500
Trigger2=Root,Stateno=1505
trigger3=root,movetype=H

[Statedef 1540]
type = A
movetype = I
physics = N
anim = 1530
sprpriority=-1

[State 0]
type=AngleDraw
trigger1=time<50
scale=.1+time*.018,.1+time*.018
value=1+(time*04)

[State 0]
type=AngleDraw
trigger1=time>50
scale=1+fvar(1),1+fvar(1)

[State 0]
type=BindToRoot
trigger1=Root,StateNo=1500
pos=40,-35

[State 0]
type=Trans
trigger1=1
trans=sub

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=!Time
value=S5,50
volumescale=200
channel=7

[State 0]
type=StopSnd
trigger1=root,stateno!=1400
Trigger2=Root,Stateno=1405
channel=7

[State 0]
type=Destroyself
trigger1=root,stateno!=1500
Trigger2=Root,Stateno=1505
trigger3=root,movetype=H

[Statedef 1550]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 3

[State 0]
type=Helper
trigger1=!Time
helpertype=normal
ID=1554
stateno=1554
pos=0,-30
postype=p1
ownpal=1
size.xscale=1.3
size.yscale=1.3
ignorehitpause=1

[State 0]
type=Helper
trigger1=!Time
helpertype=normal
ID=1555
stateno=1555
pos=0,-20
postype=p1
ownpal=1
size.xscale=1.3
size.yscale=1.3
ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=!Time
value=S5,51
volumescale=180

[State 0]
type=EnvShake
triggerall=Time<=120
trigger1=timemod=15,0
time=8

[State 0]
type=BindToRoot
trigger1=1
pos=42,-27

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=HitDef
trigger1=timemod=5,0
attr=A,SP
animtype=Heavy
damage=10,5
Hitflag=MAFDE
guardflag=MA
pausetime=0,4
sparkno=-1
guard.sparkno=-1
sparkxy=0,0
hitsound=S1,36
guardsound=S1,36
ground.type=High
ground.slidetime=12
ground.hittime=1
ground.velocity=-4,0
air.velocity=-4,0
Fall=0
kill=0
numhits=5
Getpower=0,0
sprpriority=3

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 801
id = 001
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 1

[State 0]
type=Destroyself
trigger1=root,movetype=H

[State 0]
type=ChangeState
trigger1=time>=100
value=1556

[Statedef 1554]
type = A
movetype = I
physics = N
velset = 0,0
ctrl = 0
anim = 480
sprpriority = 4

[State 0]
type=BindToRoot
trigger1=1
pos=37,-27

[State 0]
type=PalFX
trigger1=1
time=999999
add=0,-140,-140
mul=512,512,512
invertall=0
color=256

[State 0]
type=Trans
trigger1=1
trans=addalpha
Alpha=256,256
ignorehitpause=10

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=Destroyself
trigger1=root,movetype=H

[State 0]
type=ChangeState
trigger1=time>=100
value=460

[Statedef 1555]
type = A
movetype = I
physics = N
velset=0,0
ctrl=0
anim=480
sprpriority=-1

[State 0]
type=BindToRoot
trigger1=1
pos=37,-27

[State 0]
type=Trans
trigger1=1
trans=sub
ignorehitpause=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=Destroyself
trigger1=root,movetype=H

[State 0]
type=Destroyself
trigger1=time>=100

[Statedef 1556]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 10

[State 0]
type=StateTypeSet
trigger1=time=2
statetype=A
movetype=I
physics=N

[State 0]
type=HitDef
triggerall=!movecontact
trigger1=1
attr=A,ST
animtype=Light
damage=0
Hitflag=MAFDE
guardflag=MA
pausetime=0,0
sparkno=-1
guard.sparkno=-1
sparkxy=-8,-15
hitsound=-1
guardsound=-1
ground.type=High
ground.slidetime=12
ground.hittime=15
ground.velocity=0
air.velocity=0
Fall=0
Getpower=0,0
Numhits=0
kill=0
Envshake.time=20

[State 0]
type=Helper
trigger1=movehit=1
helpertype=normal
ID=1560
stateno=1560
pos=0,0
postype=p2
facing=1
keyctrl=0
ownpal=1
size.xscale=.6
size.yscale=.6

[State 0]
type=Destroyself
trigger1=time=10

[Statedef 1560]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 1560
sprpriority = 4

[State 0]
type=Helper
trigger1=time=2
helpertype=normal
ID = 1570
stateno = 1570
pos=0,0
postype = p1
ownpal=1
size.xscale=.7
size.yscale=.6

[State 0]
type=Helper
trigger1=time=2
helpertype=normal
ID=1575
stateno=1575
pos=0,0
postype=p1
ownpal=1
size.xscale=.7
size.yscale=.6
ignorehitpause=1

[State 0]
type=PalFX
trigger1=1
time=999999
add=-50,-140,-150
mul=512,512,512
invertall=0
color=256

[State 0]
type=Trans
trigger1=1
trans=add
ignorehitpause=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=AssertSpecial
trigger1=1
flag=unguardable

[State 0]
type=PlaySnd
trigger1=!Time
value=S5,52
volume=50

[State 0]
type=PlaySnd
trigger1=!Time
value=S5,53
volume=50

[State 0]
type=Explod
trigger1=!Time
anim=9023
ID=9023
pos=0,0
postype=left
facing=1
vfacing=1
bindtime=-1
removetime=-2
scale=999,999
sprpriority=9
ontop=1
ownpal=1
removeongethit=0
ignorehitpause=1
supermove=99999
pausemove=99999
supermovetime=99999
pausemovetime=99999

[State 0]
type=PosSet
trigger1=1
y=0

[State 0]
type=StateTypeSet
trigger1=time=10
statetype=A
movetype=I
physics=N

[State 0]
type=EnvShake
trigger1=!Time
time=80
ampl=-4

[State 0]
type=Explod
trigger1=!Time
anim=8200
ID=8200
Pos=0,10
postype=p1
Scale=1,.15
sprpriority=-9
ontop=0
ownpal=1

[State 0]
type=HitDef
triggerall=!movecontact
Trigger1=1
attr=S,SA
animtype=Hard
damage=90
Hitflag=MAFDE
guardflag=MA
pausetime=0,10
sparkno=-1
guard.sparkno=s7000
sparkxy=-8,-25
hitsound=-1
guardsound=-1
ground.type=High
ground.slidetime=12
ground.hittime=15
ground.velocity=5,-4
air.velocity=5,-4
Fall=1
Fall.recover=0
numhits=0
Getpower=0,0
sprpriority=3
PalFX.time=30
PalFX.add=-200,-200,-200
PalFX.mul=256,256,256
PalFX.sinadd=50,50,50,50
PalFX.invertall=0
PalFX.color=256

[State 0]
type=TargetState
triggerall=P2life=0
trigger1=movecontact
value=1510
ignorehitpause=1

[State 0]
type=Destroyself
trigger1=!AnimTime

[Statedef 1570]
type = A
movetype = I
physics=N
velset=0,0
ctrl=0
anim=1570
sprpriority=2

[State 0]
type=PalFX
trigger1=1
time=999999
add=0,-140,-140
mul=512,512,512
invertall=0
color=256

[State 0]
type=Trans
trigger1=1
trans=addalpha
Alpha=180,256
ignorehitpause=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=Destroyself
trigger1=!AnimTime

[Statedef 1575]
type=A
movetype = I
physics=N
velset=0,0
ctrl=0
anim=1570
sprpriority=-1

[State 0]
type=Trans
trigger1=1
trans=sub
ignorehitpause=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0]
type=Destroyself
trigger1=!AnimTime

[Statedef 1600]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1600
poweradd = -2000
velset = 0,0
sprpriority = 2

[State 0]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

[state 0, Academy Special VFX]
type = helper
trigger1 = !time
stateno = 30850
id = 002 ; -> 1 special,2 skill,3 ultimate
postype = p1
ownpal = 1
facing = 1
size.mid.pos = -1, -22
size.head.pos = 0, (var(53))
size.xscale = .1
size.yscale = .1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0]
type=PlaySnd
trigger1 = !Time
value = S950,1
volume = 50

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=PlaySnd
trigger1 = !Time
value = S0,7
volume = 999

[State 0]
type=Varset
trigger1=!Time
v=12
value=-100

[State 0]
type=Varset
trigger1=time=100
v=12
value=0

[State 0]
type=VarAdd
trigger1=time>=90&&Var(12)<0
v=12
value=6

[State 0]
type=BGPalFX
trigger1=Time>0
time=1
add=Var(12),Var(12),Var(12)

[State 0]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 7004
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 55555
scale = .3,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = timemod = 7,0
trigger1 = time <100
anim = 7005
ID = 7005
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 5555
scale = .1,.1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%180

[State 0]
type = Explod
trigger1 = timemod = 12,0
trigger1 = time <80
anim = 7002
ID = 7002
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 55555
scale = .08,.08
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%120

[State 0]
type = Explod
trigger1 = timemod = 12,7
trigger1 = time <80
anim = 16421
ID = 421
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 5555
scale = .08,.08
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%120

[State 0]
type = Explod
trigger1 = timemod = 12,0
trigger1 = time >80
trigger1 = time < 120
anim = 7002
ID = 7002
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 5555
scale = .15,.15
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%120

[State 0]
type = Explod
trigger1 = timemod = 12,7
trigger1 = time > 80
trigger1 = time < 120
anim = 16421
ID = 421
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 5555
scale = .15,.15
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%120

[State 0]
type = Explod
trigger1 = time = 60
anim = 7003
ID = 7003
pos = -7,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = 250
pausemovetime = 55555
scale = .01,.01
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = EnvShake
trigger1 = time = 120
time = 80
freq = 80
ampl = -2

[State 0]
type = EnvShake
trigger1 = time = 200
time = 100
freq = 80
ampl = -6

[State 0]
type = AllPalFX
trigger1 = time >= 150
trigger1 = time <= 345
time = 1
add = 4*time-300,2*time-300,2*time-300
ignorehitpause = 1

[State 0]
type = Helper
trigger1 = time = 150
helpertype = normal
ID = 1601
stateno = 1601
pos = -7,-50
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 55555
size.xscale = .01
size.yscale = .01

[State 0]
type = Explod
trigger1 = timemod = 5,0
trigger1 = time = [130,200]
anim = 7006
ID = 7006
pos = -10,-10-random%40
postype = p2
facing = 1
vfacing = 1
bindtime = 999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 55555
scale = .07,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = timemod = 15,0
trigger1 = time = [130,200]
anim = 7006
ID = 7006
pos = -20,-10-random%40
postype = p2
facing = 1
vfacing = 1
bindtime = 999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 55555
scale = .12,.1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = EnvShake
trigger1 = time = 350
time = 40
freq = 80
ampl = -4

[State 0]
type = Explod
trigger1 = time = 340
anim = 7013
ID = 7013
pos = 190,240
postype = left
bindtime = 0
vel = 0,0
removetime = -2
pausemovetime = 99999
scale = .2,.3
sprpriority = 0
ontop = 0

[State 0]
type = Explod
trigger1 = time = 350
anim = 7013
ID = 7013
pos = 190,240
postype = left
bindtime = 0
vel = 0,0
removetime = -2
pausemovetime = 99999
scale = .2,.3
sprpriority = 0
ontop = 1

[State 0]
type = RemoveExplod
trigger1 = time = 150
id = 7003

[State 0]
type = ChangeState
trigger1 = Time = 360
value = 0
ctrl = 1

[Statedef 1601]
type = S
movetype = A
physics = S
ctrl = 0
anim = 7003
velset = 0,0
sprpriority = 4

[State 0]
type = BindToRoot
trigger1 = 1
pos = -7,-50

[State 0]
type = AngleDraw
trigger1 = time <= 50 
scale = 1+.3*time,1+.3*time

[State 0]
type = AngleDraw
trigger1 = time >= 50 
scale = -44+1.2*time,-44+1.2*time

[State 0]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable

[State 0]
type = HitDef
trigger1 = timemod = 3,0
trigger1 = time > 70
attr = S, NA
animtype  = Light
damage = 10,4
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = -1
guardsound = S4,2
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -18,-5
air.velocity = -16,-3
Fall = 1
Envshake.time = 10
envshake.freq = 40
envshake.ampl = -3

[State 0]
type = PlaySnd
trigger1 = time = 20
value = S400,25
volumescale = 100
channel = 16

[State 0]
type = PlaySnd
trigger1 = time = 20
value = S400,25
volumescale = 100
channel = 16

[State 0]
type = PlaySnd
trigger1 = time = 20
value = S400,25
volumescale = 100
channel = 16

[State 0]
type = Explod
trigger1 = time = 150
anim = 7014
ID = 7014
pos = 0,85
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = time = 150
anim = 7014
ID = 7014
pos = 80,85
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = time = 150
anim = 7014
ID = 7014
pos = 100,85
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = time = 150
anim = 7014
ID = 7014
pos = 160,85
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = PlaySnd
trigger1 = time = 180
value = S400,29
volumescale = 100
channel = 16

[State 0]
type = PlaySnd
trigger1 = time = 180
value = S400,29
volumescale = 100
channel = 16

[State 0]
type = PlaySnd
trigger1 = time = 180
value = S400,29
volumescale = 100
channel = 16

[State 0]
type = DestroySelf
trigger1 = time = 210 || root,movetype = H

[Statedef 1700]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1600
poweradd = -1000
velset = 0,0
sprpriority = 2

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = Helper
trigger1 = time = 10
helpertype = normal
ID = 1701
stateno = 1701
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1
pos = -7,-56

[State 0]
type = ChangeState
triggerall = !NumHelper(1802)
triggerall = numhelper(1701)
triggerall = power >= 1000
triggerall = ailevel > 0 && roundstate = 2
trigger1 = random < (ailevel * 100)*2
value = 1800

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[Statedef 1701]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0]
type = Helper
trigger1 = !numhelper(1702)
helpertype = normal
ID = 1702
stateno = 1702
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1

[state 0]
type = veladd
trigger1 = time >= 60
X = -.009*(enemynear, pos X - pos X < 0) + .009*(enemynear, pos X - pos X > 0)

[state 0]
type = explod
trigger1 = time % 18 = 0
anim = 30122
id = 30500
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.2,0.2
angle = 0
ownpal = 1
remappal = 3,8
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = time % 18 = 0
anim = 30122
id = 30500
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 0.2,0.2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
trigger1 = time % 3 = 0
anim = 1361
id = 7020
pos = 0, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 5555
vel = 0, 0
accel = 0, 0
random = 0, 0
removetime = 50
pausemovetime = 999999
scale = .1, .1
sprpriority = 1
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = time * 35
trans = add
alpha = 50, 256

[state 0]
type = explod
trigger1 = time % 12 = 0
anim = 30859
id = 30859
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 15
scale = 0.2,0.2
angle = 0
ownpal = 1
remappal = 3,9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = time % 12 = 0
anim = 30859
id = 30859
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 15
scale = 0.2,0.2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 1

[State 0]
type = PlaySnd
trigger1 = !time
value = S5,36
volume = 50

[State 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0]
type = Destroyself
trigger1 = win || lose || drawgame || helper(1802),stateno = 1900

[Statedef 1702]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 1703

[State 0]
type = BindToParent
trigger1 = 1
time = 999999
facing = 1
pos = 0,0
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S5,37
volume = 50

[State 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0]
type = HitDef
trigger1 = timemod = 8,0
attr = A, SP
animtype  = Heavy
damage = 3
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S5,40
guardsound = S5,30
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,0
air.velocity = 0,0
Fall = 0
Getpower = 0,0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 800
id = 900
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .45
size.yscale = .45
ignorehitpause = 1
persistent = 1

[State 0]
type = Destroyself
trigger1 = !numhelper(1701) || helper(1802),stateno = 1900

[Statedef 1800]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1800
poweradd = -1000
velset = 0,0
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = !time
value = S0,7
volumescale = 999

[State 0]
type = PlaySnd
trigger1 = !time
value = S0,7
volumescale = 999

[State 0]
type = PlaySnd
trigger1 = !time
value = S0,7
volumescale = 999

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 901
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = Helper
trigger1 = time = 10
helpertype = normal
ID = 1801
stateno = 1801
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1
pos = 22,-43

[State 0]
type = ChangeState
trigger1 = time = 130
value = 0
ctrl = 1

[Statedef 1801]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0]
type = Helper
trigger1 = !numhelper(1802)
helpertype = normal
ID = 1802
stateno = 1802
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1
persistent = 0

[state 0]
type = veladd
trigger1 = time >= 60
X = 0.5

[state 0]
type = explod
trigger1 = time % 18 = 0
anim = 30122
id = 30500
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.2,0.2
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = time % 18 = 0
anim = 30122
id = 30500
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 0.2,0.2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 1

[State 0]
type = Explod
trigger1 = time < 20
anim = 1110
ID = 1110
pos = -2,2
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 3
pausemovetime = 999999
scale = .4,.4
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*17
supermovetime=999

[State 0]
type = Explod
trigger1 = time = 10
anim = 1120
ID = 1120
pos = -2,2
postype = p1
facing = 1
vfacing = 1
bindtime = 155
removetime = -2
pausemovetime = 99999
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 0
trans = add
alpha = 256,256
supermovetime=999

[State 0]
type = Explod
trigger1 = timemod = 10,0
anim = 1140
ID = 1140
pos = -2,2
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .2,.2
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%360
supermovetime=999

[State 0]
type = Explod
trigger1 = timemod = 10,0
anim = 1150
ID = 1150
pos = -2,2
postype = p1
facing = 1
vfacing = ifelse(random<400,0,1)
bindtime = 99999
removetime = -2
pausemovetime = 999999
scale = 0.1,0.1
sprpriority = -5
ontop = ifelse(random<400,0,1)
ownpal = 1
removeongethit = 0
angle = random%360
supermovetime=999

[state 0]
type = explod
trigger1 = time % 3 = 0
anim = 1160
id = 7020
pos = 0, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 5555
vel = 0, 0
accel = 0, 0
random = 0, 0
removetime = 50
pausemovetime = 999999
scale = .1, .1
sprpriority = 1
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = time * 35
trans = add
alpha = 50, 256

[State 0]
type = PlaySnd
trigger1 = !time
value = S5,36
volume = 50

[State 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0]
type = Destroyself
trigger1 = time = 120 || helper(1802),stateno = 1803 || helper(1802),stateno = 1900

[Statedef 1802]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 1703

[State 0]
type = BindToParent
trigger1 = 1
time = 999999
facing = 1
pos = 0,0
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S5,37
volume = 50

[State 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0]
type = HitDef
triggerall = time >= 60
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage = 80
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S5,40
guardsound = S5,30
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,0
air.velocity = 0,0
Fall = 0
Getpower = 0,0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 802
id = 900
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .45
size.yscale = .45
ignorehitpause = 1
persistent = 1

[State 0]
type = changestate
trigger1 = !numhelper(1801) || movecontact
value = 1803

[State 0]
type = changestate
triggerall = numhelper(1702) > 0 && time >= 60
Trigger1 = pos x =[helper(1702),pos x-30,helper(1702),pos x +30]
value = 1900

[Statedef 1803]
type = S
movetype = A
physics = N
anim = 1192
velset = 0,0
sprpriority = 15

[State 0]
type = PlaySnd
trigger1 = !time
value = S300,17
volumescale = 150

[State 0]
type = EnvShake
trigger1 = !time
time = 30
freq = 80
ampl = 8

[State 0]
type = EnvShake
trigger1 = time = 30
time = 50
freq = 70
ampl = 4

[State 0]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
animtype  = light
damage = 4,7
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-4
air.velocity = 0,-4
Fall = 1
kill = 1
envshake.time = 0
envshake.freq = 80
envshake.ampl = 6
ground.cornerpush.veloff = 0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 802
id = 900
size.height = 0
size.head.pos = (random % 360), 15
pos = 25-random%50,15-random%45
postype = p2
ownpal = 1
size.xscale = .45
size.yscale = .45
ignorehitpause = 1
persistent = 1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 1804
stateno = 1804
pos = 18,30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.2
size.yscale = 0.2

[State 0]
type = DestroySelf
trigger1 = time = 80

[Statedef 1804]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1190
velset = 0,0
sprpriority = 15

[State 0]
type = AngleDraw
trigger1 = time < 50
scale = .02*time,.02*time
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = !time
anim = 1190
ID = 1190
pos = 0,30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999999
scale = 0.5,0.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 180

[State 0]
type = DestroySelf
trigger1 = !animtime

[Statedef 1900]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 1900

[State 0]
type = Explod
trigger1 = !time
anim = 1903
ID = 1903
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 999999
scale = .2,.2
sprpriority = 99999
ontop = 1
ownpal = 1
removeongethit = 0
angle = 0

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 999999
ignorehitpause = 1

[State 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = !time
value = S300,1
volumescale = 90

[State 0]
type = PlaySnd
trigger1 = time = 50
value = S300,0
volumescale = 90

[State 0]
type = PlaySnd
trigger1 = timemod = 25,0
trigger1 = time >= 30
value = S7,11+random%2
volumescale = 40

[state 0]
type = velset
trigger1 = time >= 30
X = 3

[state 0]
type = explod
trigger1 = time % 18 = 0
anim = 30122
id = 30500
pos = 0, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.5,0.5
angle = 0
ownpal = 1
remappal = 3,10
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = time % 18 = 0
anim = 30122
id = 30500
pos = 0, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 0.5,0.5
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
trigger1 = time % 12 = 0
anim = 30859
id = 30859
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 15
scale = 0.5,0.5
angle = 0
ownpal = 1
remappal = 3,10
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = time % 12 = 0
anim = 30859
id = 30859
pos = -2, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 15
scale = 0.5,0.5
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 1

[State 0]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
animtype = light
damage = 12,7
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -vel x-1,0
air.velocity = -vel x-1,0
Fall = 1
kill = 1
envshake.time = 20
envshake.freq = 80
envshake.ampl = 6
PalFX.time = 40
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 200,200,200,200
PalFX.invertall = 0
PalFX.color = 256
hitsound = S2,13

[State 0]
type = TargetBind
trigger1 = movecontact
time = 1
id = -1
pos = 20,40
ignorehitpause = 1

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movecontact = 1
stateno = 803
id = 900
size.height = 0
size.head.pos = (random % 360), 15
pos = -5 + (random % 5), -32 + (random % 8)
postype = p2
ownpal = 1
size.xscale = .45
size.yscale = .45
ignorehitpause = 1
persistent = 1

[State 0]
type = Explod
triggerall = time > 30
trigger1 = timemod = 4,0
anim = 1901
ID = 1901
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 5555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .2*var(5),.4*var(5)
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%360

[State 0]
type = VarRandom
trigger1 = 1
v = 5
range = 1,2

[State 0]
type = Explod
trigger1 = timemod = 3,0
triggerall = time > 30
anim = 1902
ID = 1902
pos = 25-random%40,-pos y-5+random%5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
vel = (-2-random%4)*.05,(-2-random%2)*.02
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .5,.15*var(5)
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = timemod = 3,2
triggerall = time > 30
anim = 1902
ID = 1902
pos = 25-random%40,-pos y+5-random%5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
vel = (-2-random%4)*.05,(2+random%2)*.03
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .5,.12*var(5)
sprpriority = -2
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = changestate
trigger1 = time = 200
value = 1901
ignorehitpause = 1

[Statedef 1901]
type = S
movetype = I
physics = N
ctrl = 0
anim = 9999
velset = 0,.2
sprpriority = 2

[State 0, Light Scene FX]
type = Helper
trigger1 = !time
helpertype = normal
name = "Light Scene FX"
ID = 3085
stateno = 1902
pos = 0,-0
postype = Left
facing = 1
ownpal = 1
size.xscale = 999
size.yscale = 999
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
PERSISTENT = 0


[State 0]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[state 0]
type = explod
trigger1 = !time
anim = 30122
id = 30500
pos = 0, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = 0.5-.04*time,0.5-.04*time
angle = 0
ownpal = 1
remappal = 3,10
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 0

[state 0]
type = explod
trigger1 = !time
anim = 30122
id = 30500
pos = 0, 2
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 0.5-.04*time,0.5-.04*time
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 0

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.5-.04*time,0.5-.04*time
ignorehitpause = 1

[State 0]
type = EnvShake
trigger1 = !time
time = 15
freq = 40
ampl = 6

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0]
type = Explod
trigger1 = !time
anim = 1902
ID = 7005
pos = 5-random%10,-pos y
postype = p1
facing = 1
vfacing = 1
bindtime = 0
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .7,.25
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = Explod
trigger1 = !time
anim = 1902
ID = 7005
pos = 5-random%10,-pos y+10
postype = p1
facing = 1
vfacing = 1
bindtime = 0
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .7,.2
sprpriority = -2
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0]
type = DestroySelf
trigger1 = time = 45

[Statedef 1902]
type = S
movetype = I
physics  = N
ctrl = 0
anim = 3085
sprpriority = 10

[State 0]
Type = ChangeState
trigger1 = !animtime
value = 3086

[statedef 1905]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim = 1906

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S0,3

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S0,3

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S0,3

; Ultimate Portrait
[State 0, Ultimate Portrait]
Type = Helper
Trigger1 = Time = 0
Stateno = 8050
ID = 8050
Pos = 0,-70
Ownpal = 1
Postype = p1
PauseMoveTime = 99999
SuperMoveTime = 99999

[state 0, Academy Special VFX]
type = helper
trigger1 = !time
stateno = 30850
id = 003 ; -> 1 special,2 skill,3 ultimate
postype = p1
ownpal = 1
facing = 1
size.mid.pos = -1, -22
size.head.pos = 0, (var(53))
size.xscale = .1
size.yscale = .1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0]
type = ChangeState
trigger1 = time = 220
value = 0
ctrl = 1

[Statedef 2000]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2000
velset = 0,0
sprpriority = 2
poweradd = -1000

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S300,29
volumescale = 70

[State 0]
type = PlaySnd
trigger1 = time = 10
value = S300,30
volumescale = 70

[State 0]
type = Explod
trigger1 = timemod = 18,9
trigger1 = time >= 0
anim = 7039
ID = 7039
pos =0,-32
postype = p1
facing = 1
vfacing = 1
bindtime = 15555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .3,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*7

[State 0]
type = Explod
trigger1 = timemod = 20,0
trigger1 = time >= 0
anim = 7036
ID = 7036
pos = 0,-32
postype = p1
facing = 1
vfacing = 1
bindtime = 155555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .2,.2
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*7

[State 0]
type = Explod
trigger1 = timemod = 20,0
anim = 7035
ID = 1153
pos = 10-random%20,10
postype = p1
facing = 1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 5555
scale = .5,.5
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 10-random%20
supermovetime = 99999

[State 0]
type = VelSet
trigger1 = animelem = 2
x = 15
y = 0

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 120,5
guardflag = MA
pausetime = 9,7
hitsound = S1,15
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 40
EnvsHake.freq = 30
Envshake.ampl = -8
getpower = 1500
p2stateno = 6000

[State 0]
type = Explod
trigger1 = Movehit = 1
anim = 7034
ID = 7023
pos = 20,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 555
scale = .35,.35
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 0
supermovetime = 99999

[State 0]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 2001]
type = A
movetype = A
physics = S
ctrl = 0
anim = 2001
velset = 0,0
sprpriority = 2
poweradd = -1000

[State 0]
type = Helper
trigger1 = !time
id = 001+Random%2
stateno = 900
pos = 5,-23
postype = p1
ownpal=1
supermovetime = 999999
pausemovetime = 999999

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S300,29
volumescale = 70

[State 0]
type = PlaySnd
trigger1 = time = 10
value = S300,30
volumescale = 70

[State 0]
type = Explod
trigger1 = timemod = 18,9
trigger1 = time >= 0
anim = 7039
ID = 7039
pos =0,-32
postype = p1
facing = 1
vfacing = 1
bindtime = 15555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .3,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*7

[State 0]
type = Explod
trigger1 = timemod = 20,0
trigger1 = time >= 0
anim = 7036
ID = 7036
pos = 0,-32
postype = p1
facing = 1
vfacing = 1
bindtime = 155555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
scale = .2,.2
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = time*7

[State 0]
type = Explod
trigger1 = timemod = 20,0
anim = 7035
ID = 1153
pos = 10-random%20,10
postype = p1
facing = 1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 5555
scale = .5,.5
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 10-random%20
supermovetime = 99999

[State 0]
type = VelSet
trigger1 = animelem = 2
x = 15
y = 0

[State 0]
type = HitDef
trigger1 = !movecontact
attr = S, NA
animtype = Light
damage = 120,5
guardflag = MA
pausetime = 9,7
hitsound = S1,15
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -1,-2
EnvsHake.time = 40
EnvsHake.freq = 30
Envshake.ampl = -8
getpower = 1500
p2stateno = 6000

[State 0]
type = Explod
trigger1 = Movehit = 1
anim = 7034
ID = 7023
pos = 20,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 555
scale = .35,.35
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = 0
supermovetime = 99999

[State 0]
type = ChangeState
trigger1 = !animtime
value = 50

[Statedef 3000]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3000
poweradd = -3000
velset = 0,0
sprpriority = 2

; Ultimate Portrait
[State 0, Ultimate Portrait]
Type = Helper
Trigger1 = Time = 0
Stateno = 8050
ID = 8051
Pos = 0,-70
Ownpal = 1
Postype = p1
PauseMoveTime = 99999
SuperMoveTime = 99999

[state 0, Academy Special VFX]
type = helper
trigger1 = !time
stateno = 30850
id = 003 ; -> 1 special,2 skill,3 ultimate
postype = p1
ownpal = 1
facing = 1
size.mid.pos = -1, -22
size.head.pos = 0, (var(53))
size.xscale = .1
size.yscale = .1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = Helper
trigger1 = time = 10
helpertype = normal
ID = 3050
stateno = 3050
postype = p1
ownpal = 1
size.xscale = 0.02
size.yscale = 0.02

[State 0]
type = Helper
trigger1 = time = 10
helpertype = normal
ID = 3060
stateno = 3060
postype = p1
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1

[State 0, Light Scene FX]
type = Helper
trigger1 = Time = 175
helpertype = normal
name = "Light Scene FX"
ID = 3085
stateno = 3085
pos = 0,-0
postype = Left
facing = 1
ownpal = 1
size.xscale = 999
size.yscale = 999
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
PERSISTENT = 0

[State 0]
type = NotHitBy
trigger1 = helper(3050),stateno = 3075
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1
ignorehitpause = 1
persistent = 1

[State 0]
type = ChangeAnim
trigger1 = helper(3050),stateno = 3075
value = 1905
elem = 1
ignorehitpause = 1
persistent = 0 

[State 0]
type = ChangeState
trigger1 = TIME = 300
value = 0
ctrl = 1

[statedef 3050]
type = u
movetype = a
physics = n
velset = 0, 0
ctrl = 0
anim = 1360
sprpriority = 1

[State 0]
type = AngleDraw
trigger1 = 1
value = time * 10
persistent = 1

[State 0]
type = AssertSpecial
trigger1 = 1
ignorehitpause = 1
flag = NoShadow

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, 3

[State 0]
type = BindToRoot
trigger1 = root,animelem = 2
time = 1
pos = 17,-41
ignorehitpause = 1

[State 0]
type = BindToRoot
trigger1 = root,animelem = 4
time = 1
pos = 1,-68
ignorehitpause = 1

[state 0]
type = playsnd
trigger1 = time % 40 = 0
trigger1 = time<=80
value = s300, 0

[state 0]
type = playsnd
trigger1 = time % 40 = 0
trigger1 = time>=40
trigger1 = time<=80
value = s300, 1
volumescale = 10

[State 0]
type = DestroySelf
trigger1 = root,movetype = H
ignorehitpause = 1

[State 0]
type = ChangeState
trigger1 = time = 135
value = 3051

[statedef 3051]
type = u
movetype = a
physics = n
velset = 0, 0
ctrl = 0
anim = 1360
sprpriority = 1

[State 0]
type = AngleDraw
trigger1 = 1
value = time * 10
persistent = 1

[State 0]
type = AssertSpecial
trigger1 = 1
ignorehitpause = 1
flag = NoShadow

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, 3

[State 0]
type = PosAdd
trigger1 = time > 0
x = 0
y = -1

[State 0]
type = DestroySelf
trigger1 = root,movetype = H
ignorehitpause = 1

[State 0]
type = ChangeState
trigger1 = time = 30
value = 3075

[statedef 3060]
type = u
movetype = a
physics = n
velset = 0, 0
ctrl = 0
anim = 1360
sprpriority = 1

[State 0]
type = AngleDraw
trigger1 = 1
value = time * 20
persistent = 1

[State 0]
type = Helper
trigger1 = timemod = 30,0
helpertype = normal
ID = 40570
facing = 1
stateno = 40571
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0]
type = BindToRoot
trigger1 = 1
time = 1
pos = 10,-100

[State 0]
type = AssertSpecial
trigger1 = 1
ignorehitpause = 1
flag = NoShadow

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, 8

[state 0]
type = playsnd
trigger1 = time % 15 = 0
value = s300, 9

[state 0]
type = explod
trigger1 = time % 3 = 0
anim = 1361
id = 7020
pos = 0, 0
postype = p1
facing = 1
vfacing = 1
bindtime = 5555
vel = 0, 0
accel = 0, 0
random = 0, 0
removetime = 50
pausemovetime = 999999
scale = .7, .3
sprpriority = 1
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = time * 35
trans = add
alpha = 50, 256

[state 0]
type = playsnd
trigger1 = time % 40 = 0
trigger1 = time<=80
value = s300, 0

[state 0]
type = playsnd
trigger1 = time % 40 = 0
trigger1 = time>=40
trigger1 = time<=80
value = s300, 1
volumescale = 10

[state 0]
type = angledraw
trigger1 = time < 20
scale = .05 * time, .05 * time
ignorehitpause = 1

[state 0]
type = sprpriority
trigger1 = 1
value = 5
ignorehitpause = 1 

[state 0]
type = envshake
trigger1 = time >= 10
trigger1 = time % 10 = 0
time = 20
freq = 10
ampl = 3

[state 0]
type = explod
trigger1 = timemod = 20,0
anim = 1362
id = 7018
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0, 0
random = 0, 0
removetime = 80
pausemovetime = 999999
scale = .3, .3
sprpriority = 0
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = random % 360

[state 0]
type = explod
trigger1 = time % 3 = 0
trigger1 = time>10
anim = 1370 + random % 3
id = 7012
pos = -5+(3-random % 6), 100
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = .1 * (3-random % 6), .2 * (-1-random % 5)
accel = 0, 0
random = 0, 0
removetime = 80
pausemovetime = 999999
scale = .1 + .05 * sin((time-5) * pi/10), .1 + .05 * sin((time-5) * pi/10)
sprpriority = 5 * sin((time-5) * pi/10)-1
shadow = 0, 0, 0
ownpal = 1
removeongethit = 0
angle = 0

[State 0]
type = DestroySelf
trigger1 = root,movetype = H
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = helper(3050),stateno = 3075

[Statedef 3070]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3055
sprpriority = 3
 
[State 0]
Type = PalFX
Trigger1 = 1
Time = -1
Add = -25,-95,0
Mul = 512,512,512
Color = 0

[State 0]
type = VarAdd
trigger1 = Time < 5
Fv = 5
value = .14
ignorehitpause = 1

[State 0]
type = VarAdd
trigger1 = Time < 5
Fv = 6
value = .14
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = time < 500
scale = .05 * time, .05 * time
ignorehitpause = 1

[State 0]
type = Trans
trigger1 = 1
trans = add

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = SprPriority
Trigger1 = IsHelper(02)
trigger1 = 1
value = 2

[State 0]
Type = PalFX
trigger1 = IsHelper(02)
Trigger1 = 1
Time = -1
Add = 0,0,0
Mul = 356,356,356
Color = 0

[State 0]
type = Trans
triggerall = IsHelper(02)
trigger1 = 1
trans = Sub

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S400,25
volume = 100

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S400,25
volume = 100

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S400,25
volume = 100

[State 0]
type = DestroySelf
trigger1 = time = 120 

[Statedef 3075]
type = S
movetype = A
physics = N
ctrl = 0
anim = 3050
sprpriority = 3

[State 0]
type=Helper
trigger1 = Time = 0
ID = 01
stateno = 3070
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0]
type=Helper
trigger1 = Time = 0
ID = 02
stateno = 3070
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S6,1
volume = 999

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S6,0
volume = 999
channel = 5
persistent = 0
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S6,0
volume = 999
channel = 5
persistent = 0

[State 0]
type = StopSnd
trigger1 = root,stateno != 3000
channel = 5

[State 0]
type = Width
trigger1 =1 
player = 5,5
ignorehitpause =1 
persistent = 1

[State 0]
type = HitDef
trigger1 = timemod = 4,0
attr = S,NP
animtype = Heavy
damage = 30,3
Hitflag = MAFD
pausetime = 2,4
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 0
ground.hittime = 0
ground.velocity = -4
air.velocity = -2,-1
kill = 1
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
Envshake.Time = 8
Envshake.Freq = 10
Envshake.Ampl = -1
Envshake.Phase = 20
fall = 1

[State 0]
type = PlaySnd
trigger1 = MoveContact = 1
value = S5,19
volumescale = 100
ignorehitpause = 1
Persistent = 6

[State 0]
type = destroyself
trigger1 = root,stateno != 3000

;-------------------------------------------------------------------------------
; Light Scene FX
[Statedef 3085]
type = S
movetype = I
physics  = N
ctrl = 0
anim = 3085
sprpriority = 10

[State 0]
Type = ChangeState
trigger1 = root,stateno != 3000
value = 3086
;-------------------------------------------------------------------------------
; Light Scene FX - End
[Statedef 3086]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3086
sprpriority = 3

[State 0]
type = Destroyself
trigger1 = !AnimTime

[Statedef 3100]
type = S
movetype = A
physics = S
ctrl = 0
anim = 3100
poweradd = -3000
velset = 0,0
sprpriority = 2

[State 0]
type = HELPER
trigger1 = time % 4 = 0
name = "Light Color"
ID = 8011
stateno = 50903
pos = 0,0
postype = p1
facing = 1
ownpal = 0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
[State 0]
type = HELPER
trigger1 = time % 4 = 0
name = "Normal Color"
ID = 8011
stateno = 50904
pos = 0,0
postype = p1
facing = 1
ownpal = 0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
[State 0]
type = HELPER
trigger1 = time % 4 = 0
name = "Dark Color"
ID = 8011
stateno = 50905
pos = 0,0
postype = p1
facing = 1
ownpal = 0
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1

[State 0d]
type = PlaySnd
trigger1 = !time
value = S0,0
volumescale = 100
[State 0]
type = PlaySnd
trigger1 = !time
value = S0,0
volumescale = 100
[State 0]
type = PlaySnd
trigger1 = !time
value = S0,0
volumescale = 100

; Ultimate Portrait
[State 0, Ultimate Portrait]
Type = Helper
Trigger1 = Time = 0
Stateno = 8050
ID = 8052
Pos = 0,-70
Ownpal = 1
Postype = p1
PauseMoveTime = 99999
SuperMoveTime = 99999

[state 0, Academy Special VFX]
type = helper
trigger1 = !time
stateno = 30850
id = 003 ; -> 1 special,2 skill,3 ultimate
postype = p1
ownpal = 1
facing = 1
size.mid.pos = -1, -22
size.head.pos = 0, (var(53))
size.xscale = .1
size.yscale = .1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0]
Type = PlaySnd
Trigger1 = !Time
Value = S950,1

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal
ID = 3101
stateno = 3101
pos = 8,-44
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .11
size.yscale = .11

[State 01]
type = HitDef
trigger1 = !movecontact
attr = ,AA
animtype = Light
damage = 0
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 5
air.velocity = 5,0
Fall = 0
kill = 0
p2stateno = 3103

[State 0]
type = PlaySnd
trigger1 = time = 80
value = S400,3
volumescale = 100
[State 0]
type = PlaySnd
trigger1 = time = 80
value = S400,3
volumescale = 100
[State 0]
type = PlaySnd
trigger1 = time = 80
value = S400,3
volumescale = 100

[State 0]
type = PlaySnd
trigger1 = time = 250
value = S0,2
volumescale = 100

[State 0]
type = PlaySnd
trigger1 = time = 250
value = S0,2
volumescale = 100

[State 0]
type = PlaySnd
trigger1 = time = 250
value = S0,2
volumescale = 100

[State 0]
type = EnvShake
trigger1 = time = 300
time = 20
freq = 30
ampl = -5

[State 0]
type = PlaySnd
trigger1 = time = 300
value = S400,9
volumescale = 60

[State 0]
type = PlaySnd
trigger1 = time = 300
value = S400,8
volumescale = 90

[State 0]
type = EnvShake
trigger1 = time = 300
time = 50
freq = 70
ampl = -3

[State 0]
type = Helper
trigger1 = time = 300
helpertype = normal
ID = 3104
stateno = 3104
pos = 0,-40
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .4
size.yscale = .4

[State 0]
type = Helper
trigger1 = time = 300
helpertype = normal
ID = 3105
stateno = 3105
pos = 270,90
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .8
size.yscale = .8

[State 0]
type = ChangeState
trigger1 = time = 400 || !movecontact && time = 120
value = 0
ctrl = 1
ignorehitpause = 1

[Statedef 3101]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3101
velset = 0,0
sprpriority = 0

[State 0]
type = Helper
triggerall = root,MoveContact
trigger1 = time = 100
helpertype = normal
ID = 3102
stateno = 3102
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .11
size.yscale = .11

[State 0]
type = AngleDraw
trigger1 = time > 20
scale = .8*time,8*time

[State 0]
type = DestroySelf
trigger1 = time = 100

[Statedef 3102]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3102
velset = 0,0

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoBG
flag2 = NoFG
flag3 = NoMusic

[State 0]
type = AssertSpecial
trigger1 = 1
flag = GlobalNoShadow

[State 0]
type = Explod
trigger1 = !time
anim = 70110
ID = 7011
pos = 150,292
postype = left
bindtime = -1
removetime = 200
scale = .3,.3
sprpriority = -10
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S400,4
volumescale = 100
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S400,4
volumescale = 100
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S400,4
volumescale = 100

[State 0]
type = Helper
trigger1 = time = 300
helpertype = normal
ID = 3085
stateno = 1902
pos = 0,-0
postype = Left
facing = 1
ownpal = 1
size.xscale = 999
size.yscale = 999
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999
PERSISTENT = 0

[State 0]
type = DestroySelf
trigger1 = root,stateno = 0
ignorehitpause = 1

[Statedef 3103]
type = S
movetype = H
physics = N
juggle = 0
anim = 5000+var(11)
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = 1

[State 0]
type = PosSet
triggerall = pos y != 0
trigger1 = time >= 0
y = 0

[State 0]
type = ChangeAnim
trigger1 = 1
value = 5000+ifelse(authorname = "Mikel8888",var(10),0)

[State 0]
type = DestroySelf
trigger1 = ishelper

[State 0]
type = LifeAdd
trigger1 = time = 380
value = -500
kill = 1
absolute = 1
ignorehitpause = 1

[State 0]
type = SelfState
trigger1 = time = 380
value = 5050

;----------------------------------------------------------
; blood
[Statedef 3104]
type = S
movetype = I
physics = N
juggle  = 0
ctrl = 0
velset = 0,0
sprpriority = 5
anim = 3103

[State 0]
type = PalFX
trigger1 = time < 100
time = 1
add =-999,-999,-999

[State 0]
type = DestroySelf
trigger1 = time = 100

[Statedef 3105]
type = S
movetype = I
physics = N
juggle  = 0
ctrl = 0
velset = 0,0
sprpriority = 5
anim = 3104

[State 0]
type = PalFX
trigger1 = time < 100
time = 1
add =-999,-999,-999

[State 0]
type = DestroySelf
trigger1 = time = 100

[Statedef 6000]
type = A
movetype = H
physics = N
velset = -21
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0]
type = AngleDraw
trigger1 = time >= 0
value = -atan(vel y/vel x)*160/PI
ignorehitpause = 1

[State 0]
type = ChangeAnim
trigger1 = 1
value = 5020+var(11)
elem = 1

[State 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 0]
type = ChangeState
trigger1 = time = 20
value = 6001

[Statedef 6001]
type = A
movetype= H
physics = A
juggle  = 1
velset = 1,-5
ctrl = 0
sprpriority = 1

[State 0]
type = EnvShake
trigger1 = !time
time = 20

[State 0]
type = LifeAdd
trigger1 = !time
value = -10

[State 0]
type = Selfstate
trigger1 = time = 1
value = 5050

[Statedef 6045]
type = u
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0]
type = PlaySnd
trigger1 = !time
value = S100,1
volume = 9999

[State 0]
type = PosSet
trigger1 = 1
y = 0

[State 0]
type = Explod
Trigger1 = TimeMod = 2,0
anim = 6810
ID = 580
pos = (0-Random%15),(-1-Random%38)
postype = p2
facing = 1
vfacing = 1
bind!time
removetime = -2
scale = .25,.30
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
remappal = 3,0
Vel = -5,0
angle = 90-cond(p2stateno = 6009,0,cond(p2stateno = 6000,3,0))

[State 0]
type = Explod
Trigger1 = TimeMod = 2,0
anim = 6810
ID = 580
pos = (0-Random%15),(-1-Random%38)
postype = p2
facing = 1
vfacing = 1
bind!time
removetime = -2
scale = .25,.30
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Vel = -5,0
angle = 90-cond(p2stateno = 6009,0,cond(p2stateno = 6000,3,0))

[State 0]
type = Explod
trigger1 = numexplod(6055) = 0
anim = 6850
ID = 6055
pos = 45,-25
postype = p2
facing = -1
vfacing = 1
bind!time
removetime = -2
scale = .5,.3
sprpriority = 1
ontop = 1
ownpal = 1
vel = cond(enemy,vel x != 0,-20,0),0
removeongethit = 1
angle = cond(p2stateno = 6009,0,cond(p2stateno = 6000,3,0))
[State 0]
type = Explod
trigger1 = numexplod(6056) = 0
anim = 6850
ID = 6056
pos = 51,-25
postype = p2
facing = -1
vfacing = 1
bind!time
removetime = -2
scale = .5,.3
sprpriority = 1
ontop = 0
ownpal = 1
vel = cond(enemy,vel x != 0,-20,0),0
removeongethit = 1
trans = sub
angle =  cond(p2stateno = 6009,0,cond(p2stateno = 6000,3,0))

[State 0]
type = Explod
trigger1 = timemod = 5,0
anim = 6573
ID = 900
pos = 0,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
angle = cond(p2stateno = 6009,0,cond(p2stateno = 6000,3,0))
[State 0]
type = Explod
trigger1 = timemod = 5,0
anim = 6571
ID = 900
pos = 0,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
angle = cond(p2stateno = 6009,0,cond(p2stateno = 6000,3,0))

[State 0]
type = RemoveExplod
trigger1 = enemy,stateno != 6000&& enemy,stateno != 6002&& enemy,stateno != 6009
id = 6055
ignorehitpause = 1
[State 0]
type = RemoveExplod
trigger1 = enemy,stateno != 6000&& enemy,stateno != 6002&& enemy,stateno != 6009
id = 6056
ignorehitpause = 1
[State 0]
type = RemoveExplod
trigger1 = enemy,stateno != 6000&& enemy,stateno != 6002&& enemy,stateno != 6009
id = 580
ignorehitpause = 1

[State 0]
type = Destroyself
trigger1 = enemy,stateno != 6000 && enemy,stateno != 6002&& enemy,stateno != 6009

[Statedef 6006]
type = A
movetype= I
physics = N
anim = 6006
sprpriority = 1

[State 0]
type = SprPriority
trigger1 = time = 0
value = 3-random%4
ignorehitpause = 1

[State 0]
type = AngleDraw
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0l]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0]
type = Destroyself
trigger1 = !animtime

[Statedef 6050]
type = u
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0]
type = Explod
trigger1 = !time
anim = 6060
ID = 99060
pos = -25,-30
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .65+cond(ishelper(6052),.1,0),.65+cond(ishelper(6052),.1,0)
sprpriority = 2
ownpal = 1
removeongethit = 0
remappal = 110,root,var(57)
ignorehitpause = 0
angle = 90
[State 0]
type = Explod
trigger1 = !time
anim = 6060
ID = 99060
pos = -25,-30
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .65+cond(ishelper(6052),.1,0),.65+cond(ishelper(6052),.1,0)
sprpriority = 2
ownpal = 1
trans = sub
remappal =3,0
removeongethit = 0
ignorehitpause = 0
angle = 90

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3*1
size.yscale = .3*1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4*1
size.yscale = .4*1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3*1
size.yscale = .3*1
[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5*1
size.yscale = .5*1
[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .1*1
size.yscale = .1*1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3*1
size.yscale = .3*1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3*1
size.yscale = .3*1

[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .1*1
size.yscale = .1*1
[State 0]
type = Helper
trigger1 = !time
helpertype = normal
ID = 6270
stateno = 6270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3*1
size.yscale = .3*1

[State 0]
type = PlaySnd
trigger1 = !time
value = S1,6
volume = 50
[State 0]
type = PlaySnd
trigger1 = !time
value = S8888,5
volume = 50
[State 0]
type = PlaySnd
trigger1 = !time
value = S8888,5
volume = 50
[State 0]
type = Destroyself
trigger1 = time = 15

[statedef 6270]
type = u
movetype= I
physics = A
sprpriority = 4

[State 0]
type = VelSet
trigger1 = !time
x = -2+random%5
y = -4-random%4

[State 0]
type = VarAdd
trigger1 = 1
v = 3
value = ifelse(vel x >= 0,-10-random%5,10+random%5)

[State 0]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0]
type = PlaySnd
trigger1 = pos y >=-10
value = S5,15
volumescale = 10
[State 0]
type = PlaySnd
trigger1 = pos y >=-10
value = S5,15
volumescale = 10

[State 0]
type = VarSet
trigger1 = !time
v = 2
value = random%4

[State 0]
type = ChangeAnim
trigger1 = 1
value = 6262
elem = var(2)

[State 0]
type = Changestate
trigger1 = time > 1 && pos y >= -10
value = 6275

[Statedef 6275]
type = u
movetype= I
physics = S
sprpriority = 4

[State 0]
type = VelSet
trigger1 = !time
y = 0

[State 0]
type = PosSet
trigger1 = !time
y = 0

[State 0]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0]
type = ChangeAnim
trigger1 = 1
value = anim
elem = var(2)

[State 0]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 25

[State 0]
type = Explod
trigger1 = !time
anim = 6050
ID = 99050
pos = 0*1,0*1
postype = p1
scale = .2*1,.2*1
sprpriority = 2
remappal =3,2
ownpal = 1

[State 0]
type = Explod
trigger1 = !time
anim = 6050
ID = 99050
pos = 0*1,0*1
postype = p1
scale = .2*1,.2*1
sprpriority = 2
remappal = 3,0
Trans = Sub
ownpal = 1

[State 0]
type = Explod
trigger1 = !time
anim = 6240
ID = 6240
pos = 0,0
postype = p1
scale = .3*1,.3*1
sprpriority = 2
remappal = 3,2
ownpal = 1

[State 0]
type = Explod
trigger1 = !time
anim = 6240
ID = 6240
pos = 0,0
postype = p1
scale = .3*1,.3*1
sprpriority = 2
remappal = 3,0
Trans = Sub
ownpal = 1

[State 0]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-var(1),0+var(1)

[State 0]
type = Destroyself
trigger1 = var(1) >= 256

[statedef 6500]
type = u
anim = 9999

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0,0
ignorehitpause = 1

[state 0]
type = playsnd
trigger1 = !time
value = s9501, 0
volumescale = 75
[state 0]
type = playsnd
trigger1 = !time
value = s9600, 4
volumescale = 75

[state 0]
type = playsnd
triggerall = ishelper(30500)
trigger1 = time % 80 = 0
value = s9500, 0
volumescale = 255
channel = 1

[state 0]
type = playsnd
triggerall = ishelper(30500)
trigger1 = time % 180 = 0
value = s9500, 1
channel = 2
[state 0]
type = playsnd
triggerall = ishelper(30501)
trigger1 = time % 240 = 0
value = s9501, 1
volumescale = 75
channel = 2

[state 0]
type = stopsnd
trigger1 = ((root, stateno != root, stateno) || (root, movetype = h))
channel = 1
[state 0]
type = stopsnd
trigger1 = ((root, stateno != root, stateno) || (root, movetype = h))
channel = 2
[state 0]
type = removeexplod
trigger1 = ((root, stateno != root, stateno) || (root, movetype = h))
id = 6500

[state 0]
type = explod
trigger1 = time % 30 = 0
anim = 6503
id = 6500
pos = -2, -4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = const(size.xscale) * .30, const(size.yscale) * .225
ownpal = 1
remappal = 3,8
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 = time % 30 = 0
anim = 6503
id = 6500
pos = -2, -4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = const(size.xscale) * .30, const(size.yscale) * .225
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[state 0]
type = explod
trigger1 = time % 15 = 0
anim = 6512
id = 6500
pos = -2, 0
postype = p1
facing = 1
bind!time
removetime = -2
sprpriority = 1
scale = const(size.xscale) * .175, const(size.yscale) * .25
ownpal = 1
remappal = 3,8
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
trigger1 = time % 15 = 0
anim = 6512
id = 6500
pos = -2, 0
postype = p1
facing = 1
bind!time
removetime = -2
sprpriority = 0
scale = const(size.xscale) * .175, const(size.yscale) * .25
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[state 0]
type = explod
trigger1 = time % 12 = 0
anim = 6512
id = 6500
pos = -4, 5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
scale = const(size.xscale) * .275, const(size.yscale) * .2
ownpal = 1
remappal = 3,8
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1
[state 0]
type = explod
trigger1 = time % 12 = 0
anim = 6512
id = 6500
pos = -4, 5
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale) * .275, const(size.yscale) * .2
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = null
trigger1 = time % 30 = 0
anim = 6511
id = 6500
pos = 0, -4
postype = p1
facing = 1
bind!time
removetime = -2
sprpriority = 4
scale = const(size.xscale) * .15, const(size.yscale) * .225
ownpal = 1
remappal = 3,8
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = null
trigger1 = time % 30 = 0
anim = 6511
id = 6500
pos = 0, -4
postype = p1
facing = 1
bind!time
removetime = -2
sprpriority = 3
scale = const(size.xscale) * .15, const(size.yscale) * .225
ownpal = 1
remappal = 3,0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[state 0]
type = changestate
trigger1 = ((root, stateno = [0, 100]) || (root, movetype = h))
trigger2 = root, stateno != 500
value = 6501
ignorehitpause = 1

[statedef 6501]
type = u
anim = 9999

[state 0]
type = removeexplod
trigger1 = 1
id = 30500
[state 0]
type = stopsnd
trigger1 = 1
channel = 2

[state 0]
type = envshake
trigger1 = !time
time = 15
ampl = -5
freq = 12
[state 0]
type = playsnd
trigger1 = !time
value = s9160, 5
volumescale = 255
[state 0]
type = playsnd
trigger1 = !time
value = s9501, 2

[state 0]
type = explod
trigger1 = !time
anim = 6504
id = stateno
pos = 0,4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 9
scale = .25, .25
ownpal = 1
remappal = 3,8
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
trigger1 = !time
anim = 6504
id = stateno
pos = 0, 4
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 8
scale = .25, .25
ownpal = 1
remappal = 3,0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[state 0]
type = destroyself
trigger1 = !time

[statedef 6540]
type = u

[state 0]
type = sprpriority
trigger1 = time % 1 = 0
value = cond(time <= 1, 3, 0)
ignorehitpause = 1
[state 0]
type = palfx
trigger1 = 1
time = 1
add = floor(root, fvar(35) + (floor(sin((time / 6.0) * (pi)) * (root, fvar(35))))), floor(root, fvar(36) + (floor(sin((time / 6.0) * (pi)) * (root, fvar(36))))), floor(root, fvar(37) + (floor(sin((time / 6.0) * (pi)) * (root, fvar(37)))))
[state 0]
type = changeanim
trigger1 = 1
value = root, anim
elem = root, animelemno(0)
ignorehitpause = 1
[state 0]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1
[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1
[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = -1
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = 1
scale = 1.0 + (time * .015), 1.0 + (time * .015)
value = 0
[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 120 - ((time) * 12), 150 + ((time) * 12)
[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = destroyself
trigger1 = time = 20

[statedef 99010]
type = u
sprpriority = 10

[state 0]
type = remappal
trigger1 = 1
source = 3,0
dest = 3,9

[state 0]
type = bindtoroot
trigger1 = 1
pos = root, const(size.head.pos.x) + 6 , root, const(size.head.pos.y) - -28
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = time <= 5
scale = .95, 1.05 - (sin((time/ 50.0) * (pi / 2)) * 0.0125)
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = 1
value = cond(vel x != 0, - (atan(vel y / vel x) * (const(size.air.back)) / pi), 0)
scale = 1, 1 + (sin((time / 20.0) * (pi / 2)) * 0.0125)
ignorehitpause = 1

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = trans
trigger1 = time <= 15
trans = addalpha
alpha = 0 + (time * 25), 256 - (time * 25)

[state 0]
type = changeanim
trigger1 = root, ailevel = 0
value = 99950
elem = 0 + (root, id - 55)

[state 0]
type = changeanim
trigger1 = root, ailevel
value = 99950
elem = 7

[state 0]
type = changestate
trigger1 = ((root, ailevel) && (root, life = 0) || (roundstate != 2))
trigger2 = ((root, ailevel = 0) && (time = 120) || (root, life = 0) || (roundstate != 2))
value = 99011

[statedef 99011]
type = u
velset = 0, -0.25
sprpriority = 10

[state 0]
type = remappal
trigger1 = 1
source = 3,0
dest = 3,9

[state 0]
type = bindtoroot
trigger1 = 1
pos = root, const(size.head.pos.x) + 6, root, const(size.head.pos.y) - -28
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = time <= 5
scale = .95, 1.05 - (sin((time/ 50.0) * (pi / 2)) * 0.0125)
ignorehitpause = 1

[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - (time * 25), 0 + (time * 25)
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = (time >= 10) || (root, movetype = h)
ignorehitpause = 1

[Statedef 82744]
type = A
movetype= H
physics = N
velset = -5,10
anim = 5050
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0]
type = ChangeAnim
trigger1 = !time
value = 5061+cond(authorname = "arthur",0,var(10))
elem = 1

[State 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 0]
type = ChangeState
trigger1 = pos y >= -10
value = 82745

[Statedef 82745]
type = S
movetype= H
physics = S
juggle  = 1
anim = 5110
velset = 0,0
ctrl = 0
sprpriority = 1

[State 0]
type = ChangeAnim
trigger1 = 1
value = 5170+cond(authorname = "arthur",0,var(10))
elem = 1

[State 0]
type = PosSet
trigger1 = time < 5
y = 0

[State 0]
type = VelSet
trigger1 = time = 5
x = -.1
y = -9

[State 0]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = H
physics = A

[State 0]
type = EnvShake
trigger1 = !time
time = 20

[State 0]
type = LifeAdd
trigger1 = !time
value = -10

[State 0]
type = Selfstate
trigger1 = time = 6
value = 5050